#!/bin/sh
#
# $NetBSD: INSTALL,v 1.2 2000/07/13 01:01:11 jlam Exp $

PKGNAME=$1
STAGE=$2

case ${STAGE} in
PRE-INSTALL)
	;;
POST-INSTALL)
	SERVERROOT=/etc/cups
	LOGDIR=/var/log/cups
	REQUESTDIR=/var/spool/cups

	mkdir -p ${SERVERROOT}
	mkdir -p ${SERVERROOT}/certs
	mkdir -p ${SERVERROOT}/interfaces
	mkdir -p ${SERVERROOT}/ppd
	mkdir -p ${LOGDIR}
	mkdir -p ${REQUESTDIR}

	echo "Installing configuration files:"
	for file in \
		classes.conf \
		client.conf \
		cupsd.conf \
		mime.convs \
		mime.types \
		printers.conf
	do
		if [ -f ${SERVERROOT}/${file} ]
		then
			echo "  ${SERVERROOT}/${file} already exists"
		else
			echo "  ${PKG_PREFIX}/share/examples/cups/${file} --> ${SERVERROOT}/${file}"
			cp ${PKG_PREFIX}/share/examples/cups/${file} \
				${SERVERROOT}/${file}
			chmod 644 ${SERVERROOT}/${file}
		fi
	done
	echo "done."
	;;
*)
	echo "Unexpected argument: $2"
	exit 1
	;;
esac
exit 0
