$NetBSD: patch-bb,v 1.1 2000/07/12 20:09:39 jlam Exp $

--- configure.in.orig	Mon Jul 10 16:58:19 2000
+++ configure.in	Wed Jul 12 01:04:23 2000
@@ -43,6 +43,9 @@
 CFLAGS="${CFLAGS:=}"
 CXXFLAGS="${CXXFLAGS:=}"
 
+AC_ARG_ENABLE(rootconfig, [  --enable-rootconfig
+                          set root of CUPS configuration to root directory
+                          [default=no]])
 AC_ARG_ENABLE(debug, [  --enable-debug        turn on debugging [default=no]],[if eval "test x$enable_debug = xyes"; then
 	OPTIM="-g "
 fi])
@@ -403,13 +406,23 @@
 AC_SUBST(CAT8EXT)
 
 dnl Setup default locations...
-CUPS_SERVERROOT='${prefix}/etc/cups'
-CUPS_LOGDIR='${prefix}/var/log/cups'
-CUPS_REQUESTS='${prefix}/var/spool/cups'
-
-AC_DEFINE_UNQUOTED(CUPS_SERVERROOT, "$prefix/etc/cups")
-AC_DEFINE_UNQUOTED(CUPS_LOGDIR, "$prefix/var/log/cups")
-AC_DEFINE_UNQUOTED(CUPS_REQUESTS, "$prefix/var/spool/cups")
+if test "$enable_rootconfig" = "yes"; then
+	CUPS_SERVERROOT='/etc/cups'
+	CUPS_LOGDIR='/var/log/cups'
+	CUPS_REQUESTS='/var/spool/cups'
+
+	AC_DEFINE_UNQUOTED(CUPS_SERVERROOT, "/etc/cups")
+	AC_DEFINE_UNQUOTED(CUPS_LOGDIR, "/var/log/cups")
+	AC_DEFINE_UNQUOTED(CUPS_REQUESTS, "/var/spool/cups")
+else
+	CUPS_SERVERROOT='${prefix}/etc/cups'
+	CUPS_LOGDIR='${prefix}/var/log/cups'
+	CUPS_REQUESTS='${prefix}/var/spool/cups'
+
+	AC_DEFINE_UNQUOTED(CUPS_SERVERROOT, "$prefix/etc/cups")
+	AC_DEFINE_UNQUOTED(CUPS_LOGDIR, "$prefix/var/log/cups")
+	AC_DEFINE_UNQUOTED(CUPS_REQUESTS, "$prefix/var/spool/cups")
+fi
 
 dnl See what directory to put server executables...
 case "$uname" in
@@ -460,8 +473,8 @@
 AC_SUBST(CUPS_DATADIR)
 
 dnl Set the CUPS_DOCROOT directory...
-CUPS_DOCROOT='${exec_prefix}/share/doc/cups'
-AC_DEFINE_UNQUOTED(CUPS_DOCROOT, "$exec_prefix/share/doc/cups")
+CUPS_DOCROOT='${exec_prefix}/share/doc/html/cups'
+AC_DEFINE_UNQUOTED(CUPS_DOCROOT, "$exec_prefix/share/doc/html/cups")
 AC_SUBST(CUPS_DOCROOT)
 
 AC_OUTPUT(Makedefs cups.sh)
