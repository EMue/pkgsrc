$NetBSD: patch-aa,v 1.6 2001/04/08 16:25:28 dmcmahill Exp $

fix install target.

--- Makefile.in.orig	Mon Mar 26 02:59:13 2001
+++ Makefile.in	Thu Mar 29 07:54:47 2001
@@ -1,4 +1,9 @@
 SHELL = /bin/sh
 
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+bindir=@bindir@
+
+
 binary:
 	@if test -f .binary; then \
@@ -151,19 +156,15 @@
 
 install:
-	@if test `pwd` != ${LIBPREFIX}/$(SCIBASE); then \
-		touch .binary; \
-		strip $(SCIDIR)/bin/scilex; \
-		(cd tests; make distclean); \
-		(cd examples; make distclean); \
-		(cd .. ; tar cf - $(BINDISTFILES) | (cd ${LIBPREFIX}; tar xf -)); \
-		(cd ${LIBPREFIX}/$(SCIBASE); make); \
-		$(RM) .binary; \
-	fi
-	$(RM) /usr/bin/scilab
-	ln -fs ${LIBPREFIX}/$(SCIBASE)/bin/scilab /usr/bin/scilab
-	$(RM) /usr/bin/intersci
-	ln -fs ${LIBPREFIX}/$(SCIBASE)/bin/intersci /usr/bin/intersci
-	$(RM) /usr/bin/intersci-n
-	ln -fs ${LIBPREFIX}/$(SCIBASE)/bin/intersci-n /usr/bin/intersci-n
+	touch .binary
+	strip $(SCIDIR)/bin/scilex
+	cd tests && $(MAKE) distclean
+	cd examples && $(MAKE) distclean
+	cd .. && tar cf - $(BINDISTFILES) | (cd ${prefix}; tar xf -)
+	cd ${prefix}/$(SCIBASE) && $(MAKE)
+	$(RM) .binary
+	for f in ${prefix}/${SCIBASE}/bin/* ; \
+	do \
+		ln -fs $$f ${bindir}/`basename $$f` ; \
+	done
 
 uninstall:
