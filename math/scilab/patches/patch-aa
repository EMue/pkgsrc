$NetBSD: patch-aa,v 1.1 1998/08/25 12:53:08 agc Exp $

--- configure.in.orig	Thu Jul 16 05:55:15 1998
+++ configure.in	Thu Aug 20 14:22:09 1998
@@ -589,4 +589,67 @@
     MAKEFILE_TARGET=Makefile.gcwin32
     ;;
+  *-*-freebsd*)
+     CC=gcc
+     CC_OPTIONS='-O2 -Dfreebsd'
+     CC_LDFLAGS=-lm
+     # script shell f77 have bugs, get ours
+     FC=f77
+     FC_OPTIONS='-O2 -Dfreebsd'
+     FC_LDFLAGS=-lm
+     LD=ld
+     LD_LDFLAGS=-lm
+     if test "$enable_debug" = yes; then 
+       CC_OPTIONS='-g -Dfreebsd'
+       FC_OPTIONS=-g
+     fi
+     if test "$G77" = yes; then
+       FC=g77
+     fi
+    DLDLIB='${SCIDIR}/libs/libdld.a'
+    DLD_SUBDIR=dld
+    MAKEFILE_TARGET=Makefile.sunos
+    ;;
+#
+# NetBSD systems (tested on NetBSD-1.3)
+  *-*-netbsd*)
+    # standard compilers
+    CC=cc
+    CC_OPTIONS='-O2 -Dnetbsd'
+    CC_LDFLAGS=
+    CC_PICFLAGS='-fPIC'
+    if test "$G77" != yes; then    
+      AC_CHECK_PROG(F77,f2c-f77,yes,no)
+      if test "$F77" = no; then
+        AC_MSG_ERROR("Unable to configure: Fortran f2c-f77 compiler not found")
+      fi
+    fi
+    FC=f2c-f77
+    FC_OPTIONS='-O2'
+    FC_LDFLAGS=
+    FC_PICFLAGS='-fPIC'
+    LD=ld
+    LD_LDFLAGS=
+    if test "$enable_debug" = yes; then 
+      CC_OPTIONS='-g -Dnetbsd -Wall'
+      FC_OPTIONS='-g -Wall'
+    fi
+    # GNU compilers
+    if test "$GCC" = yes; then
+      CC=gcc
+      CC_OPTIONS='-O2 -Dnetbsd'
+      if test "$enable_debug" = yes; then 
+        CC_OPTIONS='-g -Dnetbsd'
+      fi
+    fi
+    if test "$G77" = yes; then
+      FC=g77
+      FC_OPTIONS=-O2
+      if test "$enable_debug" = yes; then 
+        FC_OPTIONS=-g
+      fi
+      FC_LDFLAGS=
+    fi
+    MAKEFILE_TARGET=Makefile.netbsd
+    ;;
   *)
     AC_MSG_ERROR("Unable to configure for host $host")
@@ -753,4 +816,9 @@
 AC_CHECK_FUNCS(strerror)
 AC_CHECK_FUNCS(usleep)
+
+########################
+## test for header files
+########################
+AC_CHECK_HEADERS(values.h)
 
 ##################
