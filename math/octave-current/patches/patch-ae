$NetBSD: patch-ae,v 1.2 2001/04/22 20:23:02 jtb Exp $

--- libcruft/misc/Makefile.in.orig	Sun Apr 22 20:22:10 2001
+++ libcruft/misc/Makefile.in	Sun Apr 22 20:43:27 2001
@@ -27,15 +27,7 @@
 
 INCLUDES := f77-fcn.h lo-error.h
 
-ifeq ($(SHARED_LIBS), true)
-  ifdef CPICFLAG
-    CPICDEP := pic/machar.o pic/f77-fcn.o
-  endif
-  ifdef CXXPICFLAG
-    CXXPICDEP := pic/f77-extern.o pic/lo-error.o
-  endif
-  SPECIAL_PICDEPEND := $(CPICDEP) $(CXXPICDEP)
-endif
+
 
 include ../Makerules
 
@@ -56,7 +48,6 @@
 XALL_CFLAGS = $(patsubst -O%, , $(ALL_CFLAGS))
 
 machar.o: $(srcdir)/machar.c
-	$(XCC) -c $(CPPFLAGS) $(XALL_CFLAGS) -DDP $<
+	${LIBTOOL} --mode=compile $(XCC) -c $(CPPFLAGS) $(XALL_CFLAGS) -DDP $<
+
 
-pic/machar.o: $(srcdir)/machar.c
-	$(XCC) -c $(CPPFLAGS) $(CPICFLAG) $(XALL_CFLAGS) -DDP $< -o $@
