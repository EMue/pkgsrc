$NetBSD: patch-am,v 1.2 2001/04/22 23:16:09 jtb Exp $

--- liboctave/oct-rl-edit.c.orig	Mon Apr 23 00:07:12 2001
+++ liboctave/oct-rl-edit.c
@@ -33,20 +33,20 @@
 
 #include "oct-rl-edit.h"
 
+extern int screenheight;
+
+extern int screenwidth;
+
 int
 octave_rl_screen_height (void)
 {
-  int rows, cols;
-  rl_get_screen_size (&rows, &cols);
-  return rows;
+    return screenheight;
 }
 
 int
 octave_rl_screen_width (void)
 {
-  int rows, cols;
-  rl_get_screen_size (&rows, &cols);
-  return cols;
+    return screenwidth;
 }
 
 void
@@ -93,7 +93,7 @@
 {
   if (rl_undo_list)
     {
-      rl_free_undo_list ();
+      free_undo_list ();
 
       rl_undo_list = 0;
     }
@@ -221,7 +221,7 @@
 char **
 octave_rl_completion_matches (const char *text, rl_completer_fcn_ptr f)
 {
-  return rl_completion_matches (text, f);
+  return completion_matches (text, f);
 }
 
 char
