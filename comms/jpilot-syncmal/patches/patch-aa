$NetBSD: patch-aa,v 1.2 2001/03/02 00:14:23 jlam Exp $

--- ../malsync/mal/common/AGNet.h.orig	Sun May 14 17:17:36 2000
+++ ../malsync/mal/common/AGNet.h
@@ -52,8 +52,12 @@
                 typedef int AGFd;
 #           endif /* if (!defined(__palmos__)) */
 #       else /* defined(macintosh) */
+#           if (!defined(__unix__))
+#               define __unix__ 1
+#           endif
 #           include <netdb.h>
 #           include <sys/types.h>
+#           include <sys/param.h>
 #           include <sys/socket.h>
 #           include <unistd.h>
 #           include <netinet/in.h>
@@ -61,7 +65,7 @@
 #               include <sys/filio.h>
 #               include <arpa/inet.h>
 #           else
-#               ifdef __FreeBSD__
+#               if (defined(BSD) && BSD >= 199306)
 #                   include <sys/ioctl.h>
 #                   include <arpa/inet.h>
 #               else
