$NetBSD: patch-aj,v 1.3 2001/03/09 12:08:25 dmcmahill Exp $

--- ifcico/mxlookup.c.orig	Sat Jul 13 17:17:12 1996
+++ ifcico/mxlookup.c	Fri Mar  9 07:01:38 2001
@@ -170,5 +170,8 @@
 	}
 	else	{
-	    	hp = (int)gethostbyaddr ((char*)&addr, 4, AF_INET);
+	    	if ( gethostbyaddr ((char*)&addr, 4, AF_INET) == NULL )
+			hp = 0;
+		else
+			hp = 1;
 	   	break;
 	}
@@ -227,5 +230,5 @@
 	querybuf   *msg;
 {
-	int n = dn_expand (msg, msg + 512, cp, name, MAXDNAME - 2);
+	int n = dn_expand ((char *)msg, ((char *)msg) + 512, cp, name, MAXDNAME - 2);
 
 	if (n < 0)	return NULL;
