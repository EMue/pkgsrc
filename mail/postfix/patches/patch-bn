$NetBSD: patch-bn,v 1.1 1999/08/18 23:30:26 thorpej Exp $

--- master/multi_server.c.orig	Tue Aug 17 17:32:22 1999
+++ master/multi_server.c	Tue Aug 17 17:34:32 1999
@@ -270,7 +270,7 @@
 
 static void multi_server_accept_local(int unused_event, char *context)
 {
-    int     listen_fd = (int) context;
+    int     listen_fd = (int) (long) context;
     int     time_left = -1;
     int     fd;
 
@@ -310,7 +310,7 @@
 
 static void multi_server_accept_inet(int unused_event, char *context)
 {
-    int     listen_fd = (int) context;
+    int     listen_fd = (int) (long) context;
     int     time_left = -1;
     int     fd;
 
@@ -580,7 +580,7 @@
     if (var_idle_limit > 0)
 	event_request_timer(multi_server_timeout, (char *) 0, var_idle_limit);
     for (fd = MASTER_LISTEN_FD; fd < MASTER_LISTEN_FD + socket_count; fd++) {
-	event_enable_read(fd, multi_server_accept, (char *) fd);
+	event_enable_read(fd, multi_server_accept, (char *) (long) fd);
 	close_on_exec(fd, CLOSE_ON_EXEC);
     }
     event_enable_read(MASTER_STATUS_FD, multi_server_abort, (char *) 0);
