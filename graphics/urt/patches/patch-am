$NetBSD: patch-am,v 1.2 2001/03/26 22:51:39 skrll Exp $

--- makefile.tlr.orig	Tue Aug  4 18:17:57 1992
+++ makefile.tlr
@@ -7,7 +7,7 @@
 	@sh -c "if test 'x$(DIRS)' != x ; then eval \
 		'set -e ; for dir in $(DIRS) ; do \
 			(cd \$$dir ; echo Make ${HERE}\$$dir ; \
-			 	make $(MFLAGS) $(DIRMFLAGS) ) ; \
+			 	$(MAKE) $(MFLAGS) $(DIRMFLAGS) ) ; \
 		done' ; \
 	  else \
 		true ; \
@@ -18,8 +18,7 @@
 	@sh -c "if test 'x$?' != x ; then eval \
 		'for pgm in $? ; do \
 			dpgm=\`basename \$$pgm .out\` ; \
-			echo cp \$$pgm $(DEST)/\$$dpgm ; \
-			cp \$$pgm $(DEST)/\$$dpgm; \
+			${LIBTOOL} --mode=install cp \$$pgm $(DEST)/\$$dpgm; \
 		done' ; \
 	else \
 	    true ; \
@@ -46,7 +45,7 @@
 	@sh -c "if test 'x$(DIRS)' != x  ; then eval \
 		'for dir in $(DIRS) ; do \
 			(cd \$$dir ; echo Install ${HERE}\$$dir ; \
-			 make $(MFLAGS) $(DIRMFLAGS) install) ; \
+			 $(MAKE) $(MFLAGS) $(DIRMFLAGS) install) ; \
 		done' ; \
 	  else \
 		true ; \
@@ -105,7 +104,7 @@
 	    'for dir in $(ALLDIRS); do \
 		if test -d $$dir ; then \
 			(cd $$dir; echo Make ${HERE}$$dir pristine ; \
-			 make $(MFLAGS) pristine); \
+			 $(MAKE) $(MFLAGS) pristine); \
 		else \
 			true; \
 		fi; \
@@ -124,7 +123,7 @@
 	    'for dir in $(ALLDIRS); do \
 		if test -d $$dir ; then \
 			(cd $$dir; echo Clean ${HERE}$$dir ; \
-			 make $(MFLAGS) clean); \
+			$(MAKE) $(MFLAGS) clean); \
 		else \
 			true; \
 		fi; \
