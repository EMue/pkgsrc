$NetBSD: patch-aa,v 1.5 1998/09/28 18:13:37 tron Exp $

--- Magick.tmpl.orig	Fri Sep 18 03:21:46 1998
+++ Magick.tmpl	Tue Sep 22 23:06:22 1998
@@ -37,17 +37,17 @@
 #ifdef RsArchitecture
 XCOMM EXTENSIONS_DEFINES= -DHasLZW -DHasShape
 #else
-XCOMM EXTENSIONS_DEFINES= -DHasLZW -DHasShape -DHasSharedMemory
+EXTENSIONS_DEFINES= -DHasLZW -DHasShape -DHasSharedMemory
 #endif
 
 XCOMM Set DoSharedLib to HasSharedLibraries to build ImageMagick with shared
 XCOMM libraries.
 XCOMM
-XCOMM #define DoSharedLib  HasSharedLibraries
+#define DoSharedLib  HasSharedLibraries
 
 XCOMM Define the location of the X11 RGB color database.
 XCOMM
-XCOMM DATABASE_DEFINES= -DRGBColorDatabase=\"/usr/openwin/lib/X11/rgb.txt\"
+DATABASE_DEFINES= -DRGBColorDatabase=\"/usr/X11R6/lib/X11/rgb.txt\"
 
 XCOMM By default, the maximum color value is 255.  To increase the maximum to
 XCOMM 65535 define:
@@ -59,17 +59,17 @@
 XCOMM of these optional plug-ins, uncomment the respective define.  Make sure
 XCOMM the path names are correct.  See README for more details.
 XCOMM
-XCOMM #define HasBZLIB
+#include "bzlib.tmpl"
 XCOMM #define HasDPS
 XCOMM #define HasFPX
 XCOMM #define HasHDF
 XCOMM #define HasJBIG
-XCOMM #define HasJPEG
-XCOMM #define HasMPEG
-XCOMM #define HasPNG
-XCOMM #define HasTIFF
+#define HasJPEG
+#define HasMPEG
+#define HasPNG
+#define HasTIFF
 XCOMM #define HasTTF
-XCOMM #define HasZLIB
+#define HasZLIB
 
 #ifdef HasBZLIB
 BZLIB_DEFINES= -DHasBZLIB
@@ -108,13 +108,13 @@
 
 #ifdef HasJPEG
 JPEG_DEFINES= -DHasJPEG
-JPEG_INCLUDES= -I$(TOP)/jpeg
-JPEG_FLAGS= -L$(TOP)/jpeg
+JPEG_INCLUDES= -I${LOCALBASE}/include
+JPEG_FLAGS= -L${LOCALBASE}/lib
 JPEG_LIBRARIES= -ljpeg
 #endif
 
 #ifdef HasMPEG
-MPEG_BINDIR= /usr/local/bin
+MPEG_BINDIR= ${PREFIX}/bin
 MPEG_DEFINES= -DMPEGDecodeDelegate=\"$(MPEG_BINDIR)/mpeg2decode\" \
   -DMPEGEncodeDelegate=\"$(MPEG_BINDIR)/mpeg2encode\"
 #endif
@@ -122,16 +122,16 @@
 #ifdef HasPNG
 XCOMM Use libpng-1.00 or above.  You must also link with Zlib.
 PNG_DEFINES= -DHasPNG
-PNG_INCLUDES= -I$(TOP)/png
-PNG_FLAGS= -L$(TOP)/png
+PNG_INCLUDES= -I${LOCALBASE}/include
+PNG_FLAGS= -L${LOCALBASE}/lib
 PNG_LIBRARIES= -lpng
 #endif
 
 #ifdef HasTIFF
 XCOMM Tiff library requires Jpeg and Zlib libraries.
 TIFF_DEFINES= -DHasTIFF
-TIFF_INCLUDES= -I$(TOP)/tiff/libtiff
-TIFF_FLAGS= -L$(TOP)/tiff/libtiff
+TIFF_INCLUDES= -I${LOCALBASE}/include
+TIFF_FLAGS= -L${LOCALBASE}/lib
 TIFF_LIBRARIES= -ltiff
 #endif
 
@@ -144,8 +144,8 @@
 
 #ifdef HasZLIB
 ZLIB_DEFINES= -DHasZLIB
-ZLIB_INCLUDES= -I$(TOP)/zlib
-ZLIB_FLAGS= -L$(TOP)/zlib
+ZLIB_INCLUDES= 
+ZLIB_FLAGS= 
 ZLIB_LIBRARIES= -lz
 #endif
 
@@ -162,15 +162,15 @@
 XCOMM the top level X11 include directory or X11/X.h will be overwritten.
 
 #ifndef PREFIX
-PREFIX=/usr/local
+PREFIX=${X11BASE}
 #endif
 
 LOCALDIR= $(PREFIX)/bin
 LOCALINC= $(PREFIX)/include/magick
 LOCALLIB= $(PREFIX)/lib
-LOCALMAN1= $(PREFIX)/man/man1
-LOCALMAN4= $(PREFIX)/man/man4
-LOCALMAN5= $(PREFIX)/man/man5
+LOCALMAN1= $(PREFIX)/man/cat1
+LOCALMAN4= $(PREFIX)/man/cat4
+LOCALMAN5= $(PREFIX)/man/cat5
 
 MAGICKDIR= $(TOP)/magick
 MAGICK_INCLUDES= -I$(TOP)/magick
