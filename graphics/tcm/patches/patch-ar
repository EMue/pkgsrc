$NetBSD: patch-ar,v 1.2 2001/05/10 23:35:28 jtb Exp $

--- sd/gd/Makefile.orig	Wed Dec 20 13:33:23 2000
+++ sd/gd/Makefile
@@ -7,37 +7,27 @@
 	gdwindow.o
 
 tcmgd:  $(GDOBJECTS) tcmgd.o
-	$(PURIFY) $(CC) $(CFLAGS) $(GDOBJECTS) \
-	-ldiagram -leditor -lguix $(LIB_DIR)/libglobal.a \
+	$(CXX) $(CXXFLAGS) $(GDOBJECTS) \
+	-ltcmdiagram -ltcmeditor -ltcmguix -ltcmglobal \
 	tcmgd.o -o $@ $(LDFLAGS) $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(MV) -f $@ $(BIN_DIR)
 
 libtcmgd.a: $(GDOBJECTS)
-	$(AR) $@ $(GDOBJECTS)
-	chmod a+rx $@
+	$(AR) cr $@ $(GDOBJECTS)
 	$(RANLIB) $@
-	$(MV) $@ $(LIB_DIR)
+	$(MV) -f $@ $(LIB_DIR)
 
 tgd:    $(GDOBJECTS) gdeditor.o
-	$(PURIFY) $(CC) $(CFLAGS) $(GDOBJECTS) gdeditor.o -o $@ \
-	$(LDFLAGS) -ldiagram -leditor -lgui -lglobal $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(CXX) $(CXXFLAGS) $(GDOBJECTS) gdeditor.o -o $@ \
+	$(LDFLAGS) -ltcmdiagram -ltcmeditor -ltcmgui -ltcmglobal $(LDLIBS)
+	$(MV) -f $@ $(BIN_DIR)
 
 tcmd:   tcmd.o
-	$(PURIFY) $(CC) $(CFLAGS) tcmd.o -o $@ \
+	$(CXX) $(CXXFLAGS) tcmd.o -o $@ \
 	-I../dv -I../bv -I../tr -I../fv \
-	$(LDFLAGS) $(LIB_DIR)/libtcmgd.a $(LIB_DIR)/libtcmtr.a \
-        $(LIB_DIR)/libtcmdv.a $(LIB_DIR)/libtcmbv.a $(LIB_DIR)/libtcmfv.a \
-	$(LIB_DIR)/libtcmpv.a \
-	$(LIB_DIR)/libdiagram.a $(LIB_DIR)/libeditor.a \
-        $(LIB_DIR)/libgui.a $(LIB_DIR)/libglobal.a $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(LDFLAGS) -ltcmgd -ltcmtr -ltcmdv -ltcmbv -ltcmfv -ltcmpv \
+	-ltcmdiagram -ltcmeditor -ltcmgui -ltcmglobal $(LDLIBS)
+	$(MV) -f $@ $(BIN_DIR)
 
 
 clean: xclean
