$NetBSD: patch-ba,v 1.1 2001/05/10 23:35:28 jtb Exp $

--- sd/pv/Makefile.orig	Wed Dec 20 13:33:26 2000
+++ sd/pv/Makefile
@@ -17,32 +17,25 @@
 PVOBJECTS = $(CPOBJECTS) $(DPOBJECTS)
 
 tcmpv:  $(PVOBJECTS) tcmpv.o
-	$(PURIFY) $(CC) $(CFLAGS) $(PVOBJECTS) \
-	-ldiagram -leditor -lguix $(LIB_DIR)/libglobal.a \
+	$(CXX) $(CXXFLAGS) $(PVOBJECTS) \
+	-ltcmdiagram -ltcmeditor -ltcmguix -ltcmglobal \
 	tcmpv.o -o $@ $(LDFLAGS) $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(MV) -f $@ $(BIN_DIR)
 
 libtcmpv.a: $(PVOBJECTS)
-	$(AR) $@ $(PVOBJECTS)
-	chmod a+rx $@
+	$(AR) cr $@ $(PVOBJECTS)
 	$(RANLIB) $@
-	$(MV) $@ $(LIB_DIR)
+	$(MV) -f $@ $(LIB_DIR)
 
 tcpd:   $(CPOBJECTS) cpeditor.o
-	$(PURIFY) $(CC) $(CFLAGS) $(CPOBJECTS) cpeditor.o -o $@ \
-	$(LDFLAGS) -ldiagram -leditor -lgui -lglobal $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(CXX) $(CXXFLAGS) $(CPOBJECTS) cpeditor.o -o $@ \
+	$(LDFLAGS) -ltcmdiagram -ltcmeditor -ltcmgui -ltcmglobal $(LDLIBS)
+	$(MV) -f $@ $(BIN_DIR)
 
 tdpd:   $(PVOBJECTS) dpeditor.o
-	$(PURIFY) $(CC) $(CFLAGS) $(PVOBJECTS) dpeditor.o -o $@ \
-	$(LDFLAGS) -ldiagram -leditor -lgui -lglobal $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(CXX) $(CXXFLAGS) $(PVOBJECTS) dpeditor.o -o $@ \
+	$(LDFLAGS) -ltcmdiagram -ltcmeditor -ltcmgui -ltcmglobal $(LDLIBS)
+	$(MV) -f $@ $(BIN_DIR)
 
 clean: xclean
 
