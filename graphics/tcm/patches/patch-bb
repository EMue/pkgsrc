$NetBSD: patch-bb,v 1.1 2001/05/10 23:35:28 jtb Exp $

--- sd/tr/Makefile.orig	Wed Dec 20 13:33:29 2000
+++ sd/tr/Makefile
@@ -17,32 +17,25 @@
 TROBJECTS = $(FDOBJECTS)
  
 tcmtr:  $(TROBJECTS) tcmtr.o
-	$(PURIFY) $(CC) $(CFLAGS) $(TROBJECTS) \
-	-ldiagram -leditor -lguix $(LIB_DIR)/libglobal.a \
+	$(CXX) $(CXXFLAGS) $(TROBJECTS) \
+	-ltcmdiagram -ltcmeditor -ltcmguix -ltcmglobal \
 	tcmtr.o -o $@ $(LDFLAGS) $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(MV) -f $@ $(BIN_DIR)
 
 libtcmtr.a: $(TROBJECTS)
-	$(AR) $@ $(TROBJECTS)
-	chmod a+rx $@
+	$(AR) cr $@ $(TROBJECTS)
 	$(RANLIB) $@
-	$(MV) $@ $(LIB_DIR)
+	$(MV) -f $@ $(LIB_DIR)
 
 tgtt:   $(GTOBJECTS) gteditor.o
-	$(PURIFY) $(CC) $(CFLAGS) $(GTOBJECTS) gteditor.o -o $@ \
-	$(LDFLAGS) -ldiagram -leditor -lgui -lglobal $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(CXX) $(CXXFLAGS) $(GTOBJECTS) gteditor.o -o $@ \
+	$(LDFLAGS) -ltcmdiagram -ltcmeditor -ltcmgui -ltcmglobal $(LDLIBS)
+	$(MV) -f $@ $(BIN_DIR)
 
 tfrt:   $(FDOBJECTS) fdeditor.o
-	$(PURIFY) $(CC) $(CFLAGS) $(FDOBJECTS) fdeditor.o -o $@ \
-	$(LDFLAGS) -ldiagram -leditor -lgui -lglobal $(LDLIBS)
-	chmod a+rx $@
-	$(STRIP) $@
-	$(MV) $@ $(BIN_DIR)
+	$(CXX) $(CXXFLAGS) $(FDOBJECTS) fdeditor.o -o $@ \
+	$(LDFLAGS) -ltcmdiagram -ltcmeditor -ltcmgui -ltcmglobal $(LDLIBS)
+	$(MV) -f $@ $(BIN_DIR)
 
 clean: xclean
 
