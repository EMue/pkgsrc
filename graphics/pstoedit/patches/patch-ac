$NetBSD: patch-ac,v 1.2 2000/08/25 00:17:06 wiz Exp $

--- Makefile.in.orig	Sun Jul  2 19:18:37 2000
+++ Makefile.in
@@ -6,6 +6,7 @@
 prefix=@prefix@
 exec_prefix=@exec_prefix@
 bindir=@bindir@
+datadir=@datadir@
 libdir=@libdir@
 mandir=@mandir@
 MANEXT=1
@@ -15,12 +16,16 @@
 INSTALL=@INSTALL@
 GS=@GS@
 
+X_LIBS=@X_LIBS@ @X_TOOLKIT_LIBS@ @X_PRE_LIBS@ @X_BASIC_LIBS@ @X_EXTRA_LIBS@
+X_CFLAGS=@X_CFLAGS@ 
+
 # Choose a compiler + linker
-CXXFLAGS=@CXXFLAGS@
+CXXFLAGS=@CXXFLAGS@ $(X_CFLAGS)
 CCC=@CXX@ @SPECIAL_CXXFLAGS@
-LDLIBS=$(LOCALLIBS) @LDLIBS@ -lm @LDL@
+LDLIBS=$(LOCALLIBS) @LDLIBS@ $(X_LIBS) -lm @LDL@
 LINK=@LINK@
-CCFLAGS=-DDEFAULTGS=$(GS) $(CXXFLAGS) 
+CCFLAGS=-DDEFAULTGS=$(GS) $(CXXFLAGS)	\
+	-DPATH_DATADIR=\"$(datadir)\" -DPATH_PLUGINDIR=\"$(libdir)\"
 
 # uncommment one of the following CCC lines for Un*x like systems
 # For users of GNU g++
@@ -68,7 +73,7 @@
 #LOCALDEFINES=-DHAVE_LIBPLOTTER -I/path/to/plotter.h
 # add -DOLD_LIBPLOTTER for libplot older than 2.3
 LOCALDEFINES=@PLOTCOMPILEFLAGS@
-LOCALLIBS=-L/path/to/libplot @LPLOTTER@
+LOCALLIBS=-L${LOCALBASE}/lib -lplotter @LPLOTTER@
 #############################################################
 
 ## IRIX 5.3
@@ -338,11 +343,11 @@
 		$(INSTALL_DIR) $(bindir); \
 	fi                                    
 	$(INSTALL_PROGRAM) pstoedit $(bindir)
-	if [ ! -d $(libdir) ] ; then \
-		$(INSTALL_DIR) $(libdir); \
+	if [ ! -d $(datadir) ] ; then \
+		$(INSTALL_DIR) $(datadir); \
 	fi
-	$(INSTALL_DATA) ../misc/mpost.fmp $(libdir)
-	$(INSTALL_DATA) ../misc/latex2e.fmp $(libdir)
+	$(INSTALL_DATA) ../misc/mpost.fmp $(datadir)
+	$(INSTALL_DATA) ../misc/latex2e.fmp $(datadir)
 	if [ ! -d $(MANDIR) ] ; then \
 		$(INSTALL_DIR) $(MANDIR); \
 	fi
