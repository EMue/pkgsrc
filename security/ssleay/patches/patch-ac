$NetBSD: patch-ac,v 1.6 1999/03/10 20:04:12 explorer Exp $

--- Configure.orig	Tue Dec  1 10:49:58 1998
+++ Configure	Tue Dec  1 10:51:42 1998
@@ -38,6 +38,9 @@
 # RMD160_ASM	use some extra ripemd160 assember,
 # BN_ASM	use some extra bn assember,
 
+$use_rsaref_def=$ENV{'USE_RSAREF_DEF'};
+$LIBTOOL=$ENV{'LIBTOOL'};
+
 $x86_gcc_des="DES_PTR DES_RISC1 DES_UNROLL";
 
 # MD2_CHAR slags pentium pros
@@ -129,9 +132,13 @@
 "linux-elf",	"gcc:-DL_ENDIAN -DTERMIO -DBN_ASM -O3 -fomit-frame-pointer -m486 -Wall -Wuninitialized::BN_LLONG $x86_gcc_des $x86_gcc_opts:$x86_elf_asm",
 "debug-linux-elf","gcc:-DREF_CHECK -DBN_ASM -DCRYPTO_MDEBUG -DL_ENDIAN -DTERMIO -g -m486 -Wall:-lefence:BN_LLONG $x86_gcc_des $x86_gcc_opts:$x86_elf_asm",
 "linux-aout",	"gcc:-DL_ENDIAN -DTERMIO -DBN_ASM -O3 -fomit-frame-pointer -m486 -Wall::BN_LLONG $x86_gcc_des $x86_gcc_opts:$x86_out_asm",
-"NetBSD-sparc",	"gcc:-DTERMIOS -O3 -fomit-frame-pointer -mv8 -Wall -DB_ENDIAN::BN_LLONG MD2_CHAR RC4_INDEX DES_UNROLL:::",
-"NetBSD-m86",	"gcc:-DTERMIOS -O3 -fomit-frame-pointer -Wall -DB_ENDIAN::BN_LLONG MD2_CHAR RC4_INDEX DES_UNROLL:::",
-"NetBSD-x86",	"gcc:-DTERMIOS -DBN_ASM -D_ANSI_SOURCE -O3 -fomit-frame-pointer -m486 -Wall::BN_LLONG $x86_gcc_des $x86_gcc_opts:",
+"NetBSD-gbe32", "$LIBTOOL gcc:$use_rsaref_def -DTERMIOS -D_ANSI_SOURCE -O3 -Wall -DB_ENDIAN::BN_LLONG MD2_CHAR RC4_INDEX DES_UNROLL:::",
+"NetBSD-gle32", "$LIBTOOL gcc:$use_rsaref_def -DTERMIOS -D_ANSI_SOURCE -O3 -Wall -DL_ENDIAN::BN_LLONG MD2_CHAR RC4_INDEX DES_UNROLL:::",
+"NetBSD-alpha", "$LIBTOOL gcc:$use_rsaref_def -DTERMIOS -D_ANSI_SOURCE -O3 -Wall -DL_ENDIAN:-Wl,-R$ENV{'PREFIX'}/lib:SIXTY_FOUR_BIT_LONGS DES_INT DES_PTR DES_RISC1:::",
+"NetBSD-sparc", "$LIBTOOL gcc:$use_rsaref_def -DTERMIOS -D_ANSI_SOURCE -O3 -fomit-frame-pointer -mv8 -Wall -DB_ENDIAN::BN_LLONG MD2_CHAR RC4_INDEX DES_UNROLL:::",
+"NetBSD-sparc64", "$LIBTOOL gcc:$use_rsaref_def -DTERMIOS -D_ANSI_SOURCE -O3 -fomit-frame-pointer -Wall -DB_ENDIAN:-Wl,-R$ENV{'PREFIX'}/lib:SIXTY_FOUR_BIT_LONGS DES_INT DES_PTR DES_RISC1:::",
+"NetBSD-m86", "$LIBTOOL gcc:$use_rsaref_def -DTERMIOS -D_ANSI_SOURCE -O3 -fomit-frame-pointer -Wall -DB_ENDIAN::BN_LLONG MD2_CHAR RC4_INDEX DES_UNROLL:::",
+"NetBSD-x86", "$LIBTOOL gcc:$use_rsaref_def -DTERMIOS -DL_ENDIAN -DBN_ASM -D_ANSI_SOURCE -O -fomit-frame-pointer -m486 -Wall::BN_LLONG $x86_gcc_des $x86_gcc_opts:",
 "FreeBSD",   "gcc:-DTERMIOS -DBN_ASM -DL_ENDIAN -D_ANSI_SOURCE -fomit-frame-pointer -O3 -m486 -Wall::BN_LLONG $x86_gcc_des $x86_gcc_opts:$x86_out_asm",
 #"bsdi-gcc",     "gcc:-O3 -ffast-math -DBN_ASM -DL_ENDIAN -DPERL5 -m486::RSA_LLONG $x86_gc_des $x86_gcc_opts:$x86_bsdi_asm",
 "nextstep",	"cc:-O3 -Wall -DBN_ASM::BN_LLONG $x86_gcc_des $x86_gcc_opts:::",
