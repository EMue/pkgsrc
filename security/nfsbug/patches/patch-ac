$NetBSD: patch-ac,v 1.4 2000/10/11 16:02:45 wennmach Exp $

--- nfsbug.c.orig	Fri Feb 17 00:57:27 1995
+++ nfsbug.c
@@ -14,6 +14,7 @@
  *	- close sockets (?)
  */
 #include <stdio.h>
+#include <string.h>
 #include <ctype.h>
 #include <netdb.h>
 #include <errno.h>
@@ -25,18 +26,20 @@
 #include <sys/socket.h>
 #include <netinet/in.h>
 #include <arpa/inet.h>
-#include <sys/sysmacros.h>
 #include <sys/time.h>
 #include <sys/vnode.h>
-#include <sys/vfs.h>
-#include <sys/sysmacros.h>
+#include <sys/mount.h>
 #ifdef SVR4
 #include <sys/inode.h>
 #else
 #ifndef HPUX
+#ifdef __NetBSD__
+#include <ufs/ufs/dinode.h>
+#else
 #include <ufs/inode.h>
 #endif
 #endif
+#endif
 
 #include "mount.h"
 #include "nfs_prot.h"
@@ -240,7 +245,7 @@
     } else
 	proto = "TCP/IP";
 
-    clnt_control(mntclient, CLSET_TIMEOUT, &timeout);
+    clnt_control(mntclient, CLSET_TIMEOUT, (char *)&timeout);
     mntclient->cl_auth = create_unix_auth(0, 0);
     if (mntclient->cl_auth == NULL) {
 	clnt_destroy(mntclient);
@@ -277,7 +282,7 @@
     } else
 	proto = "TCP/IP";
 
-    clnt_control(nfsclient, CLSET_TIMEOUT, &timeout);
+    clnt_control(nfsclient, CLSET_TIMEOUT, (char *)&timeout);
     nfsclient->cl_auth = create_unix_auth(-2, -2); /* well known uid, gid */
     if (nfsclient->cl_auth == NULL) {
 	clnt_destroy(nfsclient);
