#! /bin/sh
#
# $NetBSD: INSTALL,v 1.3 2000/12/06 06:33:40 jlam Exp $

PKGNAME=$1
STAGE=$2

SAMPLECONFDIR=${PKG_PREFIX}/share/examples/sudo
CONFDIR=/etc
CONFFILES="sudoers"

case ${STAGE} in
PRE-INSTALL)
	;;
POST-INSTALL)
	echo "Installing configuration files:"
	for file in ${CONFFILES}
	do
		FILE=${CONFDIR}/${file}
		SAMPLEFILE=${SAMPLECONFDIR}/${file}
		if [ -f ${FILE} ]
		then
			echo "    ${FILE} already exists"
		else
			echo "    ${FILE}"
			cp ${SAMPLEFILE} ${FILE}
			chown 0:0 ${FILE}
			chmod 0440 ${FILE}
		fi
	done
	cat << EOF
===========================================================================
Some files you might need to customize include the following:

EOF
	for file in ${CONFFILES}
	do
		FILE=${CONFDIR}/${file}
		echo "	${FILE}"
	done
	cat << EOF
===========================================================================
EOF
	;;
*)
	echo "Unexpected argument: ${STAGE}"
	exit 1
	;;
esac
exit 0
