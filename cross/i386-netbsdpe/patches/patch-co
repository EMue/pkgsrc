$NetBSD: patch-co,v 1.1 2001/01/30 03:09:00 minoura Exp $

--- gcc/configure.in.pre-patch	Tue Jan 16 21:47:25 2001
+++ gcc/configure.in
@@ -1156,9 +1156,34 @@
 		tmake_file=t-freebsd
 		;;
 changequote(,)dnl
+	i[34567]86-*-netbsdelf* | \
+	i[34567]86-*-netbsd1.4[I-Z]* | \
+	i[34567]86-*-netbsd1.[5-9]* | \
+	i[34567]86-*-netbsd2*)
+changequote([,])dnl
+		tm_file=i386/netbsd-elf.h
+		xm_file=i386/xm-netbsd.h
+		tmake_file=t-netbsd
+		;;
+changequote(,)dnl
+	i[34567]86-*-netbsdpe* )
+changequote([,])dnl
+		xm_file="${xm_file} i386/xm-cygwin.h"
+		tmake_file=i386/t-cygwin
+		tm_file=i386/netbsd-pe.h
+		xmake_file=i386/x-cygwin
+		extra_objs=winnt.o
+		fixincludes=Makefile.in
+ 		if [[ x$enable_threads = xyes ]]; then
+			thread_file='posix'
+		fi
+		exeext=.exe
+		;;
+changequote(,)dnl
 	i[34567]86-*-netbsd*)
 changequote([,])dnl
 		tm_file=i386/netbsd.h
+		xm_file=i386/xm-netbsd.h
 		tmake_file=t-netbsd
        use_collect2=yes
 		;;
@@ -3021,6 +3046,12 @@
 		tmake_file=sparc/t-sparcbare
 		tm_file="sparc/aout.h libgloss.h"
 		;;
+	sparc-*-netbsd*elf*)
+		tm_file=sparc/netbsdelf.h
+		xm_file=sparc/xm-netbsd.h
+		tmake_file=t-netbsd
+		use_collect2=yes
+		;;
 	sparc-*-netbsd*)
 		tm_file=sparc/netbsd.h
 		tmake_file=t-netbsd
@@ -3216,6 +3247,12 @@
 		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
 		gnu_ld=yes
 		;;
+        sparc64-*-netbsd*)
+		tm_file=sparc/netbsd64.h
+		xm_file=sparc/xm-netbsd64.h
+		tmake_file=t-netbsd
+		use_collect2=yes
+		;;
 # This hasn't been upgraded to GCC 2.
 #	tahoe-harris-*)			# Harris tahoe, using COFF.
 #		tm_file=tahoe/harris.h
@@ -3557,6 +3594,12 @@
   esac
 fi
 
+case $target in
+  alpha*|sparc64*)
+    build_xm_file="${build_xm_file} xm-target64.h"
+    host_xm_file="${host_xm_file} xm-target64.h";;
+esac
+ 
 # Handle cpp installation.
 if test x$enable_cpp != xno
 then
