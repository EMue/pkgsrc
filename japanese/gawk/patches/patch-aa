$NetBSD: patch-aa,v 1.1 1999/06/08 09:19:50 sakamoto Exp $

--- Makefile.in.orig	Tue Jun  8 10:31:12 1999
+++ Makefile.in	Tue Jun  8 10:40:30 1999
@@ -46,7 +46,7 @@
 exec_prefix = @exec_prefix@
 exec_suffix = @exec_suffix@
 prefix = @prefix@
-binprefix =
+binprefix = j
 manprefix =
 
 bindir = @bindir@
@@ -192,14 +192,8 @@
 mbc.o:	Makefile
 
 install:	gawk$(exec_suffix) info installdirs
-	-rm -f $(bindir)/gawk$(exec_suffix)
-	fullname=gawk-$(REL).`./gawk '{print $$3}' $(srcdir)/patchlevel.h`+mb$(MBREL) ; \
-	$(INSTALL_PROGRAM) gawk$(exec_suffix) $(bindir)/$${fullname}$(exec_suffix) ; \
-	(cd $(bindir); $(LN) $${fullname}$(exec_suffix) gawk$(exec_suffix))
-	(cd $(bindir); \
-	if [ ! -f awk$(exec_suffix) ]; \
-	then	$(LN_S) gawk$(exec_suffix) awk$(exec_suffix); \
-	fi; exit 0)
+	$(INSTALL_PROGRAM) gawk$(exec_suffix) \
+		$(bindir)/$(binprefix)gawk$(exec_suffix)
 	cd doc && $(MAKE) install
 	cd awklib && $(MAKE) install
 
@@ -208,12 +202,7 @@
 		$(libdir) $(infodir) $(mandir) $(libexecdir)
 
 uninstall:
-	(cd $(bindir); \
-	if [ -f awk$(exec_suffix) ] && cmp awk$(exec_suffix) gawk$(exec_suffix) > /dev/null; then rm -f awk$(exec_suffix); fi)
-	(fullname=gawk-$(REL).`gawk '{print $$3}' $(srcdir)/patchlevel.h`+mb$(MBREL) ; \
-	cd $(bindir); \
-	if cmp gawk$(exec_suffix) $${fullname}$(exec_suffix); then rm -f gawk$(exec_suffix); fi ; \
-	rm -f $(bindir)/$${fullname}$(exec_suffix))
+	rm -f $(bindir)/$(binprefix)gawk$(exec_suffix))
 	cd doc && $(MAKE) uninstall
 	cd awklib && $(MAKE) uninstall
 	-rmdir $(datadir) $(libexecdir)
