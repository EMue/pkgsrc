$NetBSD: patch-aa,v 1.2 1999/10/31 12:08:26 mrg Exp $

diff -ru /tmp/XmHTML-1.1.5/XmHTML.cf XmHTML-1.1.5/XmHTML.cf
--- /tmp/XmHTML-1.1.5/XmHTML.cf	Sat Aug  8 19:59:31 1998
+++ XmHTML-1.1.5/XmHTML.cf	Sun Oct 31 21:01:10 1999
@@ -8,22 +8,32 @@
 XCOMM
 XCOMM See the file LICENSE for the full copyright statement.
 
+XCOMM We don't want Library.tmpl to install libraries.
+
+#if !defined (LibInstall)
+# define LibInstall NO
+# define XmHTMLLibInstall YES
+#else
+# if LibInstall
+#  define LibInstall	NO
+#  define XmHTMLLibInstall YES 
+# else
+#  define XmHTMLLibInstall NO
+# endif
+#endif
+
 XCOMM ----------------------------------------------------------------------
 XCOMM Root of XmHTML Source Tree
 XCOMM ----------------------------------------------------------------------
-XCOMM If BUILDINCTOP is not or incorrectly set on your system, you can
-XCOMM override it here.
-XCOMM BUILDINCTOP=<path to root of the XmHTML source tree>
-BUILDINCTOP=/home/newt/src/XmHTML/XmHTML
 
 XCOMM ----------------------------------------------------------------------
 XCOMM Installation Directories
 XCOMM ----------------------------------------------------------------------
 XCOMM This specifies where the XmHTML and http library will be installed
-#define XmHTMLLibDir $(USRLIBDIR)
+#define XmHTMLLibDir ${PREFIX}/lib
 
 XCOMM This specifies where the XmHTML and http header files will be installed
-#define XmHTMLIncDir $(INCROOT)/XmHTML
+#define XmHTMLIncDir ${PREFIX}/include/XmHTML
 
 XCOMM ----------------------------------------------------------------------
 XCOMM Common Desktop Environment
@@ -49,8 +59,8 @@
 XCOMM paths to xpm.h and libXpm. The defaults are /usr/X11R6/include (or
 XCOMM wherever your X includes live) and /usr/X11R6/lib (or wherever your X
 XCOMM libraries live)
-XCOMM XPMINCLUDES  = -I$(INCROOT)
-XCOMM XPMLIBRARIES = -L$(LIBDIR) -lXpm
+XPMINCLUDES  = -I${PREFIX}/include
+XPMLIBRARIES = -L$(LIBDIR) -lXpm
 
 XCOMM JPEG Support. Enabled by default.
 XCOMM You require libjpeg, version 6 or above. If you don't have this lib
@@ -60,8 +70,8 @@
 XCOMM Required include files: jpeglib.h, jconfig.h, jmorecfg.h
 
 #define IHaveJPEG YES
-JPEGINC =
-JPEGLIB = -ljpeg
+JPEGINC = -I${PREFIX}/include
+JPEGLIB = -L${PREFIX}/lib -ljpeg
 
 XCOMM PNG Support. Enabled by default.
 XCOMM You require libpng, version 0.96 or above. If you don't have this lib
@@ -69,8 +79,8 @@
 XCOMM Required include files: png.h, pngconf.h
 
 #define IHavePNG YES
-PNGINC = 
-PNGLIB = -lpng
+PNGINC =  -I${PREFIX}/include
+PNGLIB = -L${PREFIX}/lib -lpng
 
 XCOMM zlib Support. Enabled by default. PNG support implies zlib.
 XCOMM You require libz, version 1.0.4 or above. If you don't have this lib
@@ -78,8 +88,8 @@
 XCOMM Required include files: zlib.h, zconf.h
 
 #define IHaveZLIB YES
-ZLIBINC = 
-ZLIBLIB = -lz -lm
+ZLIBINC =  -I${PREFIX}/include
+ZLIBLIB = -L${PREFIX}/lib -lz -lm
 
 XCOMM ----------------------------------------------------------------------
 XCOMM Full Text Searching Using POSIX 1. Regular Expressions
@@ -238,7 +248,7 @@
 
 EXTRA_DEFINES  = -DVERSION=$(VERSION) $(DEFINES) $(IMAGEDEFINES) $(REGDEF) \
 $(DEBUG) $(DMALLOC)
-EXTRA_INCLUDES = -I. -I$(BUILDINCTOP)/include $(IMAGEINCS) $(DMALLOCINC)
+EXTRA_INCLUDES = -I. -I$(TOP)/include $(IMAGEINCS) $(DMALLOCINC)
 EXTRA_LIBRARIES= $(IMAGELIBS) $(DMALLOCLIB) $(SYSLIBS)
 #endif
 
