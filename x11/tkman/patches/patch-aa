$NetBSD: patch-aa,v 1.6 2000/08/31 03:58:14 fredb Exp $

--- Makefile.orig	Thu Jun 22 17:39:42 2000
+++ Makefile	Thu Aug 17 20:10:04 2000
@@ -26,13 +26,13 @@
 ### you need to localize the paths on these lines
 
 #WISH = /usr/sww/tcl-8.3/bin/wish
-WISH = /private/share/bin/wish
+WISH = ${LOCALBASE}/bin/wish
 #WISH = /private/share/bin/wish8.3
 #WISH = /usr/local/bin/wish8.3
 
 # the executable `tkman' is placed in BINDIR
 # this should be a directory that's in your bin PATH
-BINDIR = /private/share/bin
+BINDIR = ${PREFIX}/bin
 #BINDIR = /usr/local/bin
 
 
@@ -81,11 +81,26 @@
 # will examine for matches if a search in the usual locations fails while searching
 # for a man pages and displaying its associated binaries (if any).
 # Use this feature carefully as a large number of directories can slow down startup.
-mastermen = "/usr/man /usr/local/man"
+#mastermen = "/usr/man /usr/local/man"
 #mastermen = "/usr/man /usr/local/man /usr/sww/man /usr/share/man /usr/kerberos/man"
-masterbin = "/usr/bin /usr/local/bin"
-#masterbin = "/usr/bin /usr/local/bin /usr/sww/bin /usr/sww/share/bin /usr/sww/share/X11R5/bin"
+mastermen = /usr/share/man ${LOCALBASE}/man ${X11BASE}/man
+.if (${PREFIX} != ${LOCALBASE}) && (${PREFIX} != ${X11BASE})
+mastermen += ${PREFIX}/man
+.endif
+.if (${PREFIX} != "/usr/local")
+mastermen += /usr/local/man
+.endif
 
+#masterbin = "/usr/bin /usr/local/bin"
+#masterbin = "/usr/bin /usr/local/bin /usr/sww/bin /usr/sww/share/bin /usr/sww/share/X11R5/bin"
+masterbin = /bin /sbin /usr/bin /usr/sbin
+masterbin += ${LOCALBASE}/bin ${LOCALBASE}/sbin ${X11BASE}/bin
+.if (${PREFIX} != ${LOCALBASE}) && (${PREFIX} != ${X11BASE})
+masterbin += ${PREFIX}/bin
+.endif
+.if (${PREFIX} != "/usr/local")
+masterbin += /usr/local/bin /usr/local/sbin
+.endif
 
 # names of common printers, in addition to default printer (PRINTER or LPDEST)
 # (individual users can edit this list in the Preferences panel)
@@ -114,7 +129,7 @@
 # Lines are cached in .../man/cat<n>@<line-length>; 
 #   that is, the line length is appended to the usual cache directory names
 #manformat = {groff -te -Tascii -man /tmp/ll -}
-manformat = {groff -te -Tlatin1 -man /tmp/ll -}
+#manformat = {groff -te -Tlatin1 -man /tmp/ll -}
 # Ultrix users should uncomment the following line (you don't have eqn)
 #manformat = {tbl | nroff -man }
 # HP-UX uses a number of macros that groff doesn't define, so use the builtin nroff
@@ -122,7 +137,7 @@
 #  space between the .de and the macro name, and groff doesn't like this.)
 #manformat = {tbl | neqn | nroff -man }
 # BSD macros (.Sh, .Ss, .PP, ...) need -mandoc
-#manformat = {groff -Tascii -te -mandoc}
+manformat = {groff -Tascii -te -mandoc}
 # BSDI
 #manformat = {tbl | eqn -Tascii | nroff -man }
 # It's actually legal to leave this empty if all the pages you'll ever
@@ -351,8 +366,8 @@
 	echo 'set manx(mintcl) $(mintcl)' >> tkman
 	echo 'set manx(mintk) $(mintk)' >> tkman
 	echo 'set manx(newuser) $(newuser)' >> tkman
-	echo 'set manx(mastermen) $(mastermen)' >> tkman
-	echo 'set manx(masterbin) $(masterbin)' >> tkman
+	echo 'set manx(mastermen) "$(mastermen)"' >> tkman
+	echo 'set manx(masterbin) "$(masterbin)"' >> tkman
 	echo 'set man(zcat) $(zcat)' >> tkman
 	echo 'set man(compress) $(compress)' >> tkman
 	echo 'set man(apropos) $(apropos)' >> tkman
