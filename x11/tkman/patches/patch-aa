$NetBSD: patch-aa,v 1.5 1998/12/03 13:09:12 frueauf Exp $

--- Makefile.orig	Sat Nov 21 01:21:26 1998
+++ Makefile	Sun Nov 29 05:26:12 1998
@@ -41,14 +41,16 @@
 ### you need to localize the paths on these lines
 
 #WISH = /usr/sww/tcl-8.0/bin/wish
-WISH = /private/share/bin/wish
+#WISH = /private/share/bin/wish
 #WISH = /private/share/bin/wish8.1
 #WISH = /usr/local/bin/wish8.0
+WISH = ${LOCALBASE}/bin/wish8.0
 
 # the executable `tkman' is placed in BINDIR
 # this should be a directory that's in your bin PATH
-BINDIR = /private/share/bin
+#BINDIR = /private/share/bin
 #BINDIR = /usr/local/bin
+BINDIR = ${PREFIX}/bin
 
 
 # OPTIONAL
@@ -94,11 +96,26 @@
 # will examine for matches if a search in the usual locations fails while searching
 # for a man pages and displaying its associated binaries (if any).
 # Use this feature carefully as a large number of directories can slow down startup.
-mastermen = "/usr/man /usr/local/man"
+#mastermen = "/usr/man /usr/local/man"
 #mastermen = "/usr/man /usr/local/man /usr/sww/man /usr/share/man /usr/kerberos/man"
-masterbin = "/usr/bin /usr/local/bin"
-#masterbin = "/usr/bin /usr/local/bin /usr/sww/bin /usr/sww/share/bin /usr/sww/share/X11R5/bin"
+mastermen = /usr/share/man ${LOCALBASE}/man ${X11BASE}/man
+.if (${PREFIX} != ${LOCALBASE}) && (${PREFIX} != ${X11BASE})
+mastermen += ${PREFIX}/man
+.endif
+.if (${PREFIX} != "/usr/local")
+mastermen += /usr/local/man
+.endif
 
+#masterbin = "/usr/bin /usr/local/bin"
+#masterbin = "/usr/bin /usr/local/bin /usr/sww/bin /usr/sww/share/bin /usr/sww/share/X11R5/bin"
+masterbin = /bin /sbin /usr/bin /usr/sbin
+masterbin += ${LOCALBASE}/bin ${LOCALBASE}/sbin ${X11BASE}/bin
+.if (${PREFIX} != ${LOCALBASE}) && (${PREFIX} != ${X11BASE})
+masterbin += ${PREFIX}/bin
+.endif
+.if (${PREFIX} != "/usr/local")
+masterbin += /usr/local/bin /usr/local/sbin
+.endif
 
 # names of common printers, in addition to default printer (PRINTER or LPDEST)
 # (individual users can edit this list in the Preferences panel)
@@ -127,7 +144,7 @@
 # Lines are cached in .../man/cat<n>@<line-length>; 
 #   that is, the line length is appended to the usual cache directory names
 #manformat = {groff -te -Tascii -man /tmp/ll - 2>/dev/null}
-manformat = {groff -te -Tlatin1 -man /tmp/ll - 2>/dev/null}
+manformat = {groff -te -Tlatin1 -man /tmp/ll${PREFIX} - 2>/dev/null}
 # Ultrix users should uncomment the following line (you don't have eqn)
 #manformat = {tbl | nroff -man }
 # HP-UX uses a number of macros that groff doesn't define, so use the builtin nroff
@@ -359,8 +376,8 @@
 	echo 'set manx(mintk) $(mintk)' >> tkman
 	echo 'set manx(newuser) $(newuser)' >> tkman
 	echo 'set manx(dirnameindex) $(dirnameindex)' >> tkman
-	echo 'set manx(mastermen) $(mastermen)' >> tkman
-	echo 'set manx(masterbin) $(masterbin)' >> tkman
+	echo 'set manx(mastermen) "$(mastermen)"' >> tkman
+	echo 'set manx(masterbin) "$(masterbin)"' >> tkman
 	echo 'set man(zcat) $(zcat)' >> tkman
 	echo 'set man(compress) $(compress)' >> tkman
 	echo 'set man(apropos) $(apropos)' >> tkman
