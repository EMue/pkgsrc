$NetBSD: patch-ab,v 1.8 1999/09/15 18:26:05 tron Exp $

--- kdm/session.c.orig	Fri Aug 20 20:35:10 1999
+++ kdm/session.c	Wed Sep 15 13:32:45 1999
@@ -50,6 +50,7 @@
 #include <pwd.h>
 #include <grp.h>
 #include <sys/types.h>
+#include <sys/param.h>
 #ifdef AIXV3
 # include <usersec.h>
 #endif
@@ -1089,7 +1090,7 @@
     return env;
 }
 
-#if defined(Lynx) || defined(SCO) && !defined(SCO_USA) || !defined(HAVE_CRYPT_H)
+#if !defined(__NetBSD__) && (defined(Lynx) || defined(SCO) && !defined(SCO_USA) || !defined(HAVE_CRYPT_H))
 char *crypt(s1, s2)
 	char	*s1, *s2;
 {
