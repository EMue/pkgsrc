$NetBSD: patch-aj,v 1.5 1999/11/12 04:50:00 hubertf Exp $

--- ./kdm/kdmconfig.cpp	Fri Apr 23 15:12:54 1999
+++ /usr/pkgsrc/x11/kdebase/work.i386.unpatched/kdebase-1.1.2/kdm/kdmconfig.cpp	Fri Nov 12 05:10:32 1999
@@ -134,10 +134,26 @@
                _shutdownButton = KNone;
           _shutdown         = new QString( kc->readEntry(  "Shutdown"));
           if( _shutdown->isNull())
+#ifdef    __NetBSD__
+               *_shutdown = "/sbin/shutdown -h now";
+#else /* !__NetBSD__ */
+#ifdef    __SVR4
+               *_shutdown = "/usr/sbin/halt";
+#else /* !__SVR4 */
                *_shutdown = "/sbin/halt";
+#endif /* __SVR4 */
+#endif /* __NetBSD__ */
           _restart          = new QString( kc->readEntry(   "Restart"));
           if( _restart->isNull())
-               *_restart = "/sbin/reboot";
+#ifdef    __NetBSD__
+               *_restart = "/sbin/shutdown -r now";
+#else /* !__NetBSD__ */
+#ifdef    __SVR4
+               *_shutdown = "/usr/sbin/reboot";
+#else /* !__SVR4 */
+               *_shutdown = "/sbin/reboot";
+#endif /* __SVR4 */
+#endif /* __NetBSD__ */
      } else
           _shutdownButton   = KNone;
      if( kc->hasKey( "GUIStyle")) {
