$NetBSD: patch-ac,v 1.3 1998/12/29 14:23:04 tron Exp $

--- libgnome/gnome-gen-mimedb.c.orig	Wed Dec 16 07:48:42 1998
+++ libgnome/gnome-gen-mimedb.c	Tue Dec 29 14:39:59 1998
@@ -1,10 +1,14 @@
 #include <stdio.h>
+#include <string.h>
 
 #define GEN_MIMEDB 1
 #include "gnome-magic.c"
 
 extern GnomeMagicEntry *gnome_magic_parse (const char *filename, int *nents);
 
+char *program_invocation_name;
+char *program_invocation_short_name;
+
 int main(int argc, char *argv[])
 {
   GnomeMagicEntry *ents = NULL;
@@ -16,6 +20,10 @@
 
   gnome_do_not_create_directories = 1;
   gnomelib_init("gnome-gen-mimedb", VERSION);
+
+  program_invocation_name = argv[0];
+  if ((program_invocation_short_name = strrchr(argv[0], '/')) == NULL)
+    program_invocation_short_name = argv[0];
 
   if(argc > 1) {
     if(argv[1][0] == '-') {
