# $NetBSD: Makefile.common,v 1.3 2000/10/23 19:45:05 jlam Exp $

DISTNAME=		lesstif-${LESSTIF_VERSION}
LESSTIF_VERSION=	0.91.8
CATEGORIES=		x11
MASTER_SITES=		ftp://ftp.hungry.com/pub/hungry/lesstif/srcdist/ \
			ftp://ftp.unicamp.br/pub/X11/lesstif/srcdist/ \
			ftp://ftp.kddlabs.co.jp/X11/lesstif/srcdist/ \
			ftp://linux.mathematik.tu-darmstadt.de/pub/linux/mirrors/misc/lesstif/srcdist/ \
			http://gd.tuwien.ac.at/hci/lesstif/srcdist/ \
			http://www.damtp.cam.ac.uk/mirror/ftp.hungry.com/pub/hungry/lesstif/srcdist/

MAINTAINER=		packages@netbsd.org
HOMEPAGE=		http://www.lesstif.org/

BUILD_DEPENDS+=		autoconf:../../devel/autoconf
BUILD_DEPENDS+=		automake:../../devel/automake

USE_X11BASE=		# defined
USE_GMAKE=		# defined
USE_LIBTOOL=		# defined
LTCONFIG_OVERRIDE+=	${WRKSRC}/ltconfig
LTCONFIG_OVERRIDE+=	${WRKSRC}/Xlt/ltconfig
LTCONFIG_OVERRIDE+=	${WRKSRC}/Xbae/ltconfig

GNU_CONFIGURE=		# defined
CONFIGURE_ARGS+=	--enable-production --disable-debug --disable-verbose
CONFIGURE_ARGS+=	--enable-xdnd

FILESDIR=		${.CURDIR}/../../x11/lesstif/files
PATCHDIR=		${.CURDIR}/../../x11/lesstif/patches

post-extract:
	cd ${WRKSRC}/lib/config; ${MV} host.def LessTif.def

pre-configure:
	for d in . lib/Xlt lib/Xbae test ; do \
		cd ${WRKSRC}/$$d && libtoolize --force && aclocal && autoheader && automake -a -i && autoconf; \
	done

.include "../../mk/bsd.pkg.mk"
