$NetBSD: patch-ac,v 1.1 2001/04/22 17:16:44 wiz Exp $

--- src/htmlview.c.orig	Sat Apr  1 21:03:56 2000
+++ src/htmlview.c
@@ -215,7 +215,7 @@
 #ifdef USE_GTKHTML
 void
 html_view_url_requested(GtkHTML *html, const char *url,
-			GtkHTMLStreamHandle handle, gpointer cbdata)
+			GtkHTMLStream *handle, gpointer cbdata)
 {
 	FILE *fp;
 	int nread;
@@ -290,7 +290,7 @@
 		gtk_box_pack_start(GTK_BOX(GTK_DIALOG(toplev)->vbox), tmp,
 				   TRUE, TRUE, 10);
 
-		html = gtk_html_new(NULL, NULL);
+		html = gtk_html_new();
 		gtk_signal_connect(GTK_OBJECT(html), "url_requested",
 				   GTK_SIGNAL_FUNC(html_view_url_requested),
 				   NULL);
@@ -314,8 +314,8 @@
 
 #ifdef USE_GTKHTML
 	if (hviewtype == HtmlViewGtkHtml) {
-		gtk_html_begin(GTK_HTML(html), fname);
-		gtk_html_parse(GTK_HTML(html));
+		gtk_html_begin(GTK_HTML(html));
+		html_engine_parse(GTK_HTML(html));
 	}
 #endif
 } /* html_view_in_new_win_by_text */
