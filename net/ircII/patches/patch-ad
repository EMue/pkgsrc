$NetBSD: patch-ad,v 1.1 1999/07/21 00:26:58 mrg Exp $

Index: source/edit.c
===================================================================
RCS file: /local/cvs/ircii/source/edit.c,v
retrieving revision 1.113
diff -p -u -r1.113 edit.c
--- source/edit.c	1999/03/08 02:46:31	1.113
+++ source/edit.c	1999/07/19 08:17:44
@@ -141,6 +141,7 @@ static	void	funny_stuff _((char *, char 
 static	void	cd _((char *, char *, char *));
 static	void	e_wall _((char *, char *, char *));
 static	void	send_squery _((char *, char *, char *));
+static	void	send_brick _((char *, char *, char *));
 static	void	send_2comm _((char *, char *, char *));
 static	void	send_comm _((char *, char *, char *));
 static	void	send_invite _((char *, char *, char *));
@@ -231,6 +232,7 @@ static	IrcCommand FAR irc_command[] =
 	{ "AWAY",	"AWAY",		away,			SERVERREQ },
 	{ "BEEP",	0,		beepcmd,		0 },
 	{ "BIND",	NULL,		bindcmd,		0 },
+	{ "BRICK",	"BRICK",	send_brick,		SERVERREQ },
 	{ "BYE",	"QUIT",		e_quit,			NONOVICEABBREV },
 	{ "CD",		NULL,		cd,			0 },
 	{ "CHANNEL",	"JOIN",		e_channel,		SERVERREQ },
@@ -1853,6 +1855,24 @@ send_squery(command, args, subargs)
 {
 	put_it("*** Sent to service %s: %s", command, args);
 	send_2comm(command, args, subargs);
+}
+
+static void
+send_brick(command, args, subargs)
+	char	*command,
+		*args,
+		*subargs;
+{
+
+	if (args && *args)
+	{
+		char	*channel;
+
+		channel = next_arg(args, &args);
+		send_to_server("%s %s :%s", command, channel, args);
+	}
+	else
+		send_to_server("%s", command);
 }
 
 /*
