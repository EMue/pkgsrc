$NetBSD: patch-ac,v 1.1 2000/07/31 17:02:25 tron Exp $

--- drivers.c.orig	Fri May  5 02:34:29 2000
+++ drivers.c	Mon Jul 31 19:00:30 2000
@@ -457,7 +457,7 @@
  int flag = 0;
  while (ifnet_addr && flag != (ACCOUNT_IN_FOUND|ACCOUNT_OUT_FOUND)) {
   kvm_read(kvmfd, ifnet_addr, buffer, sizeof(struct ifnet));
-#ifdef __OpenBSD__
+#if defined(__OpenBSD__) || defined(__NetBSD__)
   snprintf(devname, 15, "%s", ifnet->if_xname);
 #else
   kvm_read(kvmfd, (unsigned long)ifnet->if_name, devname, 15);
@@ -487,7 +487,7 @@
         flag = (ACCOUNT_IN_FOUND|ACCOUNT_OUT_FOUND);
 
   } else {
-#ifdef __OpenBSD__
+#if defined(__OpenBSD__) || defined(__NetBSD__)
         ifnet_addr = (unsigned long)ifnet->if_list.tqe_next;
 #else
         ifnet_addr = (unsigned long)ifnet->if_next;
