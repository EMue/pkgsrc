$NetBSD: patch-bf,v 1.2 2000/08/02 11:43:03 abs Exp $

--- libatalk/dsi/dsi_tcp.c.orig	Wed Aug  2 10:16:25 2000
+++ libatalk/dsi/dsi_tcp.c	Wed Aug  2 10:17:02 2000
@@ -108,6 +108,11 @@
       exit(1);
     }
     newact.sa_handler = timeout_handler;
+    sigemptyset(&newact.sa_mask);
+    newact.sa_flags = 0;
+    oldact.sa_handler = NULL;
+    sigemptyset(&oldact.sa_mask);
+    oldact.sa_flags = 0;
     if (sigaction(SIGALRM, &newact, &oldact) < 0) {
 	syslog(LOG_ERR, "dsi_tcp_open: sigaction: %m");
 	exit(1);
