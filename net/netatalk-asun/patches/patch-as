$NetBSD: patch-as,v 1.5 2001/05/24 17:00:58 abs Exp $

--- libatalk/dsi/dsi_tcp.c.orig	Wed Nov 18 07:59:25 1998
+++ libatalk/dsi/dsi_tcp.c
@@ -108,6 +108,11 @@
       exit(1);
     }
     newact.sa_handler = timeout_handler;
+    sigemptyset(&newact.sa_mask);
+    newact.sa_flags = 0;
+    oldact.sa_handler = NULL;
+    sigemptyset(&oldact.sa_mask);
+    oldact.sa_flags = 0;
     if (sigaction(SIGALRM, &newact, &oldact) < 0) {
 	syslog(LOG_ERR, "dsi_tcp_open: sigaction: %m");
 	exit(1);
