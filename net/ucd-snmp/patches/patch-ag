$NetBSD: patch-ag,v 1.2 2000/01/23 10:41:10 itojun Exp $
--- agent/mibgroup/mibII/ip.c.orig	Tue Aug 24 14:17:30 1999
+++ agent/mibgroup/mibII/ip.c	Fri Jan 21 05:48:22 2000
@@ -761,7 +761,11 @@
 #ifdef linux
             return (u_char *)&((struct sockaddr_in *)&lowin_ifnet.ia_subnetmask)->sin_addr.s_addr;
 #else
+#ifdef netbsd1
+	    long_return = lowin_ifaddr.ia_subnetmask;
+#else
 	    long_return = ntohl(lowin_ifaddr.ia_subnetmask);
+#endif
 	    return(u_char *) &long_return;
 #endif
 #endif
@@ -770,7 +774,11 @@
 #if defined(linux) || defined(sunV3)
 	    long_return = ntohl(((struct sockaddr_in *) &lowin_ifnet.ifu_broadaddr)->sin_addr.s_addr) & 1;
 #else
+#ifdef netbsd1
+	    long_return = (((struct sockaddr_in *) &lowin_ifaddr.ia_broadaddr)->sin_addr.s_addr) & 1;
+#else
 	    long_return = ntohl(((struct sockaddr_in *) &lowin_ifaddr.ia_broadaddr)->sin_addr.s_addr) & 1;
+#endif
 #endif
 	    return(u_char *) &long_return;	   
 	case IPADREASMMAX:
