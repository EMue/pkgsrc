$NetBSD: patch-ad,v 1.1 1999/08/15 09:44:01 tron Exp $

--- apps/Makefile.in.orig	Sat Mar  6 02:25:43 1999
+++ apps/Makefile.in	Sun Aug 15 11:31:09 1999
@@ -8,8 +8,8 @@
 SUBDIRS=  snmpnetstat
 TRAPSPECIAL=@trap_list_o@
 
-USELIBS= ../snmplib/libsnmp.$(SHLIB_EXTENSION)$(SHLIB_VERSION)
-LIBS=	 -L../snmplib $(CC_RUNTIME_ARG) -lsnmp @LIBS@
+USELIBS= ../snmplib/libsnmp.la
+LIBS=	 ${USELIBS} @LIBS@
 
 PARSEOBJS=snmp_parse_args.o
 
@@ -24,40 +24,40 @@
 	done
 
 snmpwalk:    snmpwalk.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmpwalk.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmpwalk.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmpbulkwalk:    snmpbulkwalk.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmpbulkwalk.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmpbulkwalk.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmptranslate:    snmptranslate.o $(USELIBS)
-	${CC} -o $@ snmptranslate.o ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmptranslate.o ${LDFLAGS} ${LIBS} 
 
 snmpstatus:    snmpstatus.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmpstatus.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmpstatus.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmpget:    snmpget.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmpget.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmpget.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmpdelta:    snmpdelta.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmpdelta.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmpdelta.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmptable:    snmptable.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmptable.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmptable.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmptest:    snmptest.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmptest.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmptest.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmptrapd:    snmptrapd.o snmptrapd_handlers.o $(USELIBS)
-	${CC} -o $@ snmptrapd.o snmptrapd_handlers.o ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmptrapd.o snmptrapd_handlers.o ${LDFLAGS} ${LIBS} 
 
 snmptrap:    snmptrap.o $(TRAPSPECIAL) $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmptrap.o $(TRAPSPECIAL) $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmptrap.o $(TRAPSPECIAL) $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmpset:    snmpset.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmpset.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmpset.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 snmpgetnext:    snmpgetnext.o $(PARSEOBJS) $(USELIBS)
-	${CC} -o $@ snmpgetnext.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
+	${LIBTOOL} ${CC} -o $@ snmpgetnext.o $(PARSEOBJS) ${LDFLAGS} ${LIBS} 
 
 clean:
 	rm -f *.o $(TARG) $(SBINTARG)
@@ -69,7 +69,7 @@
 	for i in $(SUBDIRS) ; do \
         ( cd $$i ; $(MAKE) install ) ; \
 	done
-	@for i in $(TARG) ; do $(INSTALL) $$i $(bindir) ; echo "install:  installed $$i in $(bindir)" ; done
+	@for i in $(TARG) ; do ${LIBTOOL} $(INSTALL) $$i $(bindir) ; echo "install:  installed $$i in $(bindir)" ; done
 	@for i in $(SBINTARG) ; do $(INSTALL) $$i $(sbindir) ; echo "install:  installed $$i in $(sbindir)" ; done
 
 installdirs:
