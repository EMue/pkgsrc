$NetBSD: patch-as,v 1.1 1999/11/25 01:50:44 hubertf Exp $

diff -x *.orig -urN ./lib/zephyr/ZParseNot.c /usr/pkgsrc/net/zephyr/work.i386.unpatched/zephyr-2.0.4/lib/zephyr/ZParseNot.c
--- ./lib/zephyr/ZParseNot.c	Tue Jul 18 22:28:07 1995
+++ /usr/pkgsrc/net/zephyr/work.i386.unpatched/zephyr-2.0.4/lib/zephyr/ZParseNot.c	Thu Nov 25 02:52:53 1999
@@ -153,10 +153,10 @@
 	
     if (numfields) {
 	if (ZReadAscii(ptr, end-ptr, (unsigned char *)&notice->z_uid,
-		       sizeof(ZUnique_Id_t)) == ZERR_BADFIELD)
+		       sizeof(notice->z_uid)) == ZERR_BADFIELD)
 	    BAD_PACKET;
-	notice->z_time.tv_sec = ntohl((u_long) notice->z_uid.tv.tv_sec);
-	notice->z_time.tv_usec = ntohl((u_long) notice->z_uid.tv.tv_usec);
+	notice->z_time.tv_sec = ntohl((u_long) notice->z_uid.zuid_sec);
+	notice->z_time.tv_usec = ntohl((u_long) notice->z_uid.zuid_usec);
 	numfields--;
 	next_field (ptr);
     }
@@ -267,10 +267,10 @@
 
     if (numfields) {
 	if (ZReadAscii(ptr, end-ptr, (unsigned char *)&notice->z_multiuid,
-		       sizeof(ZUnique_Id_t)) == ZERR_BADFIELD)
+		       sizeof(notice->z_multiuid)) == ZERR_BADFIELD)
 	    BAD_PACKET;
-	notice->z_time.tv_sec = ntohl((u_long) notice->z_multiuid.tv.tv_sec);
-	notice->z_time.tv_usec = ntohl((u_long) notice->z_multiuid.tv.tv_usec);
+	notice->z_time.tv_sec = ntohl((u_long) notice->z_multiuid.zuid_sec);
+	notice->z_time.tv_usec = ntohl((u_long) notice->z_multiuid.zuid_usec);
 	numfields--;
 	next_field (ptr);
     }
