$NetBSD: patch-aa,v 1.3 2001/06/17 14:32:28 jtb Exp $

--- src/Makefile.in.orig	Tue May 22 20:54:34 2001
+++ src/Makefile.in
@@ -69,8 +69,9 @@
 CWFLAGS=@CWFLAGS@
 CIFLAGS=@CIFLAGS@
 CMFLAGS=@CMFLAGS@
-CFLAGS=	$(CWFLAGS) $(COFLAGS) $(CIFLAGS) $(CMFLAGS)
+CFLAGS+= $(CWFLAGS) $(COFLAGS) $(CIFLAGS) $(CMFLAGS)
 LDFLAGS=@LDFLAGS@
+CPPFLAGS=@CPPFLAGS@
 
 PLFOREIGN=@PLFOREIGN@
 
@@ -133,7 +134,7 @@
 	swipl swiplbin
 
 .c.o:
-	$(CC) -c -I. -I$(srcdir) -I$(srcdir)/rc $(CFLAGS) $< @COUTOPT@
+	$(CC) -c -I. -I$(srcdir) -I$(srcdir)/rc $(CPPFLAGS) $(CFLAGS) $< @COUTOPT@
 
 system:		$(PL)
 startup:	$(STARTUPPATH)
@@ -223,7 +224,7 @@
 		ar x `$(CC) -print-libgcc-file-name` $@
 
 plld:		$(srcdir)/plld.c
-		$(CC) -I. -I$(srcdir) $(CFLAGS) -o $@ $(srcdir)/plld.c
+		$(CC) -I. -I$(srcdir) $(CPPFLAGS) $(CFLAGS) -o $@ $(srcdir)/plld.c
 
 tags:		$(srcdir)/TAGS
 
