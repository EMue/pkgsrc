$NetBSD: patch-af,v 1.3 2001/03/09 22:47:44 jtb Exp $

--- /dev/null	Fri Mar  9 22:17:51 2001
+++ mfhdf/libsrc/Makefile
@@ -0,0 +1,41 @@
+.PATH: ${.CURDIR} ${.CURDIR}/../fortran ${.CURDIR}/../fortran/config
+
+LIB= mfhdf
+
+SHLIB_MAJOR= 0
+SHLIB_MINOR= 0
+
+LIBDIR= ${PREFIX}/lib
+
+SRCS= array.c attr.c cdf.c dim.c file.c iarray.c error.c globdef.c	\
+	putget.c putgetg.c sharray.c string.c var.c hdfsds.c mfsd.c	\
+	nssdc.c xdrstdio.c jackets-fbsd.c mfsdf.c mfsdff.f
+
+HDFLIB= -L${.CURDIR}/../../hdf/src -ldf
+HDFINC= -I${.CURDIR}/../../hdf/src
+F2CLIB= -L${F2CBASE}/lib -lf2c
+F2CINC= -I${F2CBASE}/include
+
+LDFLAGS+= ${HDFLIB} ${F2CLIB} -lm
+
+CPPFLAGS+= -Dunix -DHDF -DNDEBUG @SWAP@ -DUSE_XDRNCSTDIO
+
+.if (${MACHINE_ARCH} == "alpha")
+CPPFLAGS+= -DBIG_LONGS
+.endif
+
+CPPFLAGS+= ${HDFINC} ${F2CINC} -I${.CURDIR}
+
+NOLINT= 1
+MKPICINSTALL= no
+MKPROFILE= no
+
+NOGCCERROR= 1
+
+afterinstall:
+	${BSD_INSTALL_DATA_DIR} ${PREFIX}/include/hdf
+	for f in hdf2netcdf.h local_nc.h mfhdf.h netcdf_hdf.h; do	\
+		${BSD_INSTALL_DATA} $$f ${PREFIX}/include/hdf/;		\
+	done
+
+.include <bsd.lib.mk>
