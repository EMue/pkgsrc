$NetBSD: patch-aj,v 1.4 2001/04/19 00:56:34 jtb Exp $

--- /dev/null	Thu Apr 19 00:41:46 2001
+++ mfhdf/ncgen/Makefile
@@ -0,0 +1,34 @@
+PROG= ncgen
+PROGNAME= hdfncgen
+
+MAN= hdfncgen.1
+
+SRCS= main.c generate.c load.c ncgentab.c escapes.c getfill.c init.c	\
+	close.c genlib.c
+
+BINDIR= ${PREFIX}/bin
+LIBDIR= ${PREFIX}/lib
+MANDIR= ${PREFIX}/man
+
+CPPFLAGS+= -Dunix -DNDEBUG
+CPPFLAGS+= -I${.CURDIR}/../libsrc
+CPPFLAGS+= -I${.CURDIR}/../../hdf/src
+
+LDFLAGS+= -L${.CURDIR}/../libsrc
+LDFLAGS+= -L${.CURDIR}/../../hdf/src
+LDFLAGS+= -Wl,-R${JPEGBASE}/lib -L${JPEGBASE}/lib
+
+LDADD+= -lmfhdf -ldf -ljpeg -lz
+
+NOGCCERROR= 1
+
+ncgenyy.c: ncgen.l
+	${LEX} ${LFLAGS} ncgen.l
+	mv lex.yy.c ncgenyy.c
+
+ncgentab.c: ncgenyy.c ncgen.y
+	${YACC} ${YFLAGS} ncgen.y
+	mv y.tab.c ncgentab.c
+	touch ncgentab.h
+
+.include <bsd.prog.mk>
