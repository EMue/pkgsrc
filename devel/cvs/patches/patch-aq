$NetBSD: patch-aq,v 1.2 2000/10/18 03:31:16 hubertf Exp $

--- src/recurse.c.orig	Thu Jun 22 00:28:37 2000
+++ src/recurse.c
@@ -508,7 +508,7 @@
     if (frame->flags == R_SKIP_ALL)
 	return (0);
 
-    should_readlock = noexec ? 0 : frame->readlock;
+    should_readlock = nolock ? 0 : frame->readlock;
 
     /* The fact that locks are not active here is what makes us fail to have
        the
@@ -550,7 +550,7 @@
      */
     if (server_active
 	/* If there are writelocks around, we cannot pause here.  */
-	&& (should_readlock || noexec))
+	&& (should_readlock || nolock))
 	server_pause_check();
 #endif
 
