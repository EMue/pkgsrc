$NetBSD: patch-aa,v 1.6 2000/07/19 09:31:45 jlam Exp $

--- display.c.orig	Thu Sep 16 11:19:40 1999
+++ display.c	Sun Jul 16 22:30:13 2000
@@ -688,7 +688,7 @@
 	      putc ('\r', rl_outstream);
 #else
 	      if (term_cr)
-		tputs (term_cr, 1, _rl_output_character_function);
+		tputs (term_cr, 1, (void *)_rl_output_character_function);
 #endif
 	      _rl_output_some_chars (local_prompt, nleft);
 	      _rl_last_c_pos = nleft;
@@ -945,7 +945,7 @@
 #if defined (__MSDOS__)
       putc ('\r', rl_outstream);
 #else
-      tputs (term_cr, 1, _rl_output_character_function);
+      tputs (term_cr, 1, (void *)_rl_output_character_function);
 #endif
       _rl_output_some_chars (local_prompt, lendiff);
       _rl_last_c_pos = lendiff;
@@ -1168,7 +1168,7 @@
 #if defined (__MSDOS__)
       putc ('\r', rl_outstream);
 #else
-      tputs (term_cr, 1, _rl_output_character_function);
+      tputs (term_cr, 1, (void *)_rl_output_character_function);
 #endif /* !__MSDOS__ */
       _rl_last_c_pos = 0;
     }
@@ -1187,7 +1187,7 @@
 #if defined (HACK_TERMCAP_MOTION)
       if (term_forward_char)
 	for (i = _rl_last_c_pos; i < new; i++)
-	  tputs (term_forward_char, 1, _rl_output_character_function);
+	  tputs (term_forward_char, 1, (void *)_rl_output_character_function);
       else
 	for (i = _rl_last_c_pos; i < new; i++)
 	  putc (data[i], rl_outstream);
@@ -1218,7 +1218,7 @@
 #if defined (__MSDOS__)
       putc ('\r', rl_outstream);
 #else
-      tputs (term_cr, 1, _rl_output_character_function);
+      tputs (term_cr, 1, (void *)_rl_output_character_function);
 #endif
       _rl_last_c_pos = 0;
     }
@@ -1226,7 +1226,7 @@
     {			/* delta < 0 */
       if (term_up && *term_up)
 	for (i = 0; i < -delta; i++)
-	  tputs (term_up, 1, _rl_output_character_function);
+	  tputs (term_up, 1, (void *)_rl_output_character_function);
     }
 
   _rl_last_v_pos = to;		/* Now TO is here */
@@ -1437,7 +1437,7 @@
      int count;
 {
   if (term_clreol)
-    tputs (term_clreol, 1, _rl_output_character_function);
+    tputs (term_clreol, 1, (void *)_rl_output_character_function);
   else if (count)
     space_to_eol (count);
 }
@@ -1460,7 +1460,7 @@
 _rl_clear_screen ()
 {
   if (term_clrpag)
-    tputs (term_clrpag, 1, _rl_output_character_function);
+    tputs (term_clrpag, 1, (void *)_rl_output_character_function);
   else
     crlf ();
 }
@@ -1476,7 +1476,7 @@
     {
       char *buffer;
       buffer = tgoto (term_IC, 0, count);
-      tputs (buffer, 1, _rl_output_character_function);
+      tputs (buffer, 1, (void *)_rl_output_character_function);
       _rl_output_some_chars (string, count);
     }
   else
@@ -1485,14 +1485,14 @@
 
       /* If we have to turn on insert-mode, then do so. */
       if (term_im && *term_im)
-	tputs (term_im, 1, _rl_output_character_function);
+	tputs (term_im, 1, (void *)_rl_output_character_function);
 
       /* If there is a special command for inserting characters, then
 	 use that first to open up the space. */
       if (term_ic && *term_ic)
 	{
 	  for (i = count; i--; )
-	    tputs (term_ic, 1, _rl_output_character_function);
+	    tputs (term_ic, 1, (void *)_rl_output_character_function);
 	}
 
       /* Print the text. */
@@ -1501,7 +1501,7 @@
       /* If there is a string to turn off insert mode, we had best use
 	 it now. */
       if (term_ei && *term_ei)
-	tputs (term_ei, 1, _rl_output_character_function);
+	tputs (term_ei, 1, (void *)_rl_output_character_function);
     }
 }
 
@@ -1517,13 +1517,13 @@
     {
       char *buffer;
       buffer = tgoto (term_DC, count, count);
-      tputs (buffer, count, _rl_output_character_function);
+      tputs (buffer, count, (void *)_rl_output_character_function);
     }
   else
     {
       if (term_dc && *term_dc)
 	while (count--)
-	  tputs (term_dc, 1, _rl_output_character_function);
+	  tputs (term_dc, 1, (void *)_rl_output_character_function);
     }
 }
 
@@ -1570,7 +1570,7 @@
 #if defined (__MSDOS__)
       putc ('\r', rl_outstream);
 #else
-      tputs (term_cr, 1, _rl_output_character_function);
+      tputs (term_cr, 1, (void *)_rl_output_character_function);
 #endif
       _rl_last_c_pos = 0;
     }
@@ -1620,7 +1620,7 @@
 #if defined (__MSDOS__)
       putc ('\r', rl_outstream);
 #else
-      tputs (term_cr, 1, _rl_output_character_function);
+      tputs (term_cr, 1, (void *)_rl_output_character_function);
 #endif
       _rl_last_c_pos = 0;
 #if defined (__MSDOS__)
@@ -1628,11 +1628,11 @@
       putc ('\r', rl_outstream);
 #else
       if (term_clreol)
-	tputs (term_clreol, 1, _rl_output_character_function);
+	tputs (term_clreol, 1, (void *)_rl_output_character_function);
       else
 	{
 	  space_to_eol (screenwidth);
-	  tputs (term_cr, 1, _rl_output_character_function);
+	  tputs (term_cr, 1, (void *)_rl_output_character_function);
 	}
 #endif
       if (_rl_last_v_pos > 0)
