$NetBSD: patch-am,v 1.2 1998/11/01 23:07:31 tron Exp $

--- sysdeps/bsd/procsignal.c.orig	Wed Sep  9 01:54:54 1998
+++ sysdeps/bsd/procsignal.c	Sun Nov  1 23:20:05 1998
@@ -63,22 +63,38 @@
 	/* signal: mask of pending signals.
 	 *         pinfo [0].kp_proc.p_siglist
 	 */
+#if defined(__NetBSD__) && (NSIG > 32)
+	buf->signal = pinfo [0].kp_proc.p_siglist.__bits[0];
+#else
 	buf->signal = pinfo [0].kp_proc.p_siglist;
+#endif
 
 	/* blocked: mask of blocked signals.
 	 *          pinfo [0].kp_proc.p_sigmask
 	 */
-	buf->blocked = pinfo [0].kp_proc.p_sigmask;
+#if defined(__NetBSD__) && (NSIG > 32)
+	buf->signal = pinfo [0].kp_proc.p_sigmask.__bits[0];
+#else
+	buf->signal = pinfo [0].kp_proc.p_sigmask;
+#endif
 	
 	/* sigignore: mask of ignored signals.
 	 *            pinfo [0].kp_proc.p_sigignore
 	*/
-	buf->sigignore = pinfo [0].kp_proc.p_sigignore;
+#if defined(__NetBSD__) && (NSIG > 32)
+	buf->signal = pinfo [0].kp_proc.p_sigignore.__bits[0];
+#else
+	buf->signal = pinfo [0].kp_proc.p_sigignore;
+#endif
 	
 	/* sigcatch: mask of caught signals.
 	 *           pinfo [0].kp_proc.p_sigcatch
 	*/
-	buf->sigcatch = pinfo [0].kp_proc.p_sigcatch;
+#if defined(__NetBSD__) && (NSIG > 32)
+	buf->signal = pinfo [0].kp_proc.p_sigcatch.__bits[0];
+#else
+	buf->signal = pinfo [0].kp_proc.p_sigcatch;
+#endif
 
 	buf->flags = _glibtop_sysdeps_proc_signal;
 }
