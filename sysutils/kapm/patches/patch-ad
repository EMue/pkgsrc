$NetBSD: patch-ad,v 1.1 1999/11/11 02:04:19 hubertf Exp $

--- kapm/sudlg.cpp.orig	Thu Nov 11 02:28:45 1999
+++ kapm/sudlg.cpp	Thu Nov 11 02:29:57 1999
@@ -78,8 +78,15 @@
 
 	password = "\"" + password + "\"";
 	
+#if defined(__linux__)
   proc << "echo " << password.data() << " | ";
   proc << "su" << "-c" << "true";
+#elif defined(__NetBSD__)
+  proc << "echo " << password.data() << " | ";
+  proc << "su" << "root" << "-c" << "true";
+#else
+#error man su
+#endif
 
   proc.start(KProcess::Block);
 
