$NetBSD: patch-ab,v 1.2 2000/09/26 02:46:38 hubertf Exp $

--- configure.orig	Tue Sep 26 04:39:41 2000
+++ configure
@@ -2471,7 +2471,7 @@
 fi
 
 
-if [ $host_vendor = linux ] ; then
+if [ "$host_vendor" = linux ] ; then
     LDFLAGS="$LDFLAGS -z"
 fi
 
@@ -2753,7 +2753,7 @@
 
   # It would also be nice to do this for all -L options, not just this one.
   if test -n "$x_libraries"; then
-    X_LIBS="$X_LIBS -L$x_libraries"
+    X_LIBS="$X_LIBS -Wl,-R$x_libraries -L$x_libraries"
     # For Solaris; some versions of Sun CC require a space after -R and
     # others require no space.  Words are not sufficient . . . .
     case "`(uname -sr) 2>/dev/null`" in
@@ -3288,7 +3288,7 @@
 
   # Check for libraries that X11R6 Xt/Xaw programs need.
   ac_save_LDFLAGS="$LDFLAGS"
-  test -n "$x_libraries" && LDFLAGS="$LDFLAGS -L$x_libraries"
+  test -n "$x_libraries" && LDFLAGS="$LDFLAGS -Wl,-R$x_libraries -L$x_libraries"
   # SM needs ICE to (dynamically) link under SunOS 4.x (so we have to
   # check for ICE first), but we must link in the order -lSM -lICE or
   # we get undefined symbols.  So assume we have SM if we have ICE.
