$NetBSD: patch-ab,v 1.1 2000/05/05 01:41:56 hubertf Exp $

--- user.c	Fri May  5 03:21:02 2000
+++ user.c.orig	Fri May  5 03:20:51 2000
@@ -202,6 +202,24 @@
 	return ret;
 }
 
+#define NetBSD_1_4_K	104110000
+
+#if defined(__NetBSD_Version__) && (__NetBSD_Version__ < NetBSD_1_4_K)
+/* bounds checking strncpy */
+static int
+strlcpy(char *to, char *from, size_t tosize)
+{
+	size_t	n;
+	int	fromsize;
+
+	fromsize = strlen(from);
+	n = MIN(tosize - 1, fromsize);
+	(void) memcpy(to, from, n);
+	to[n] = '\0';
+	return fromsize;
+}
+#endif
+
 #ifdef EXTENSIONS
 /* return 1 if all of `s' is numeric */
 static int
