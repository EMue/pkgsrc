$NetBSD: patch-aa,v 1.3 2001/02/21 09:19:24 agc Exp $

Set up compilation flags for NetBSD

--- makefile	2001/02/19 09:39:42	1.1
+++ makefile	2001/02/19 09:40:37
@@ -8,7 +8,7 @@
 #   besides /usr/bin. The $PREFIX (which defaults to nothing) can be
 #   overridden in the make command line, as in "PREFIX=/foo make install"
 #   (the directory is only used when installing).
-DESTDIR  = $(PREFIX)/usr/bin
+DESTDIR  = $(PREFIX)/bin
 
 # Standard flags for all architectures
 CFLAGS	 = -Wall -fomit-frame-pointer -DVERSION=$(VERSION) -DNO_BYTESWAP_H
@@ -21,13 +21,13 @@
 
 # Handle host architecture if specified
 ifeq ($(HOST_ARCH),i386)
-CFLAGS	 += -O3 -malign-double -DNO_ASM_BYTESWAP
+CFLAGS	 += -O3 -DNO_ASM_BYTESWAP
 endif
 ifeq ($(HOST_ARCH),i586)
-CFLAGS	 += -O3 -malign-double -march=pentium
+CFLAGS	 += -O3 -march=pentium
 endif
 ifeq ($(HOST_ARCH),i686)
-CFLAGS	 += -O3 -malign-double -march=pentiumpro
+CFLAGS	 += -O3 -march=pentiumpro
 endif
 ifeq ($(HOST_ARCH),alpha)
 CFLAGS	 += -O2 -DNO_ASM_BYTESWAP
@@ -38,9 +38,9 @@
 
 # Uncomment these lines for NetBSD, with either the unproven-pthreads
 #   or pth packages
-#CFLAGS  += -I/usr/pkg/pthreads/include -I/usr/pkg/include
-#LFLAGS	 += -L/usr/pkg/pthreads/lib -R/usr/pkg/pthreads
-#LFLAGS	 += -L/usr/pkg/lib -R/usr/pkg/pthreads/lib
+CFLAGS  += -I${PREFIX}/pthreads/include -I${PREFIX}/include
+LFLAGS	 += -L${PREFIX}/pthreads/lib -R${PREFIX}/pthreads
+LFLAGS	 += -L${PREFIX}/lib -R${PREFIX}/pthreads/lib
 
 # Reverse the comments below to disable Compressed CKD Dasd support
 #CFLAGS  += -DNO_CCKD
