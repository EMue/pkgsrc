$NetBSD: patch-aa,v 1.25 2000/11/05 00:43:31 mycroft Exp $
--- makefile.unix.orig	Sun Sep 10 21:57:37 2000
+++ makefile.unix	Sat Nov  4 23:35:32 2000
@@ -138,13 +138,13 @@
 # *** Select destination directory for your compiled program , manual page
 # and binary distribution ( if you want to... )
 # ( only needed to install, not to compile... )
-DESTDIR = /usr/games
-MANDIR  = /usr/local/man/man6
+DESTDIR = ${PREFIX}/bin
+MANDIR  = ${PREFIX}/man/man6
 
 # *** xmameroot, this is the default rompath, place where the highscores are
 # stored, global rc location etc. Since most of these are configurable through
 # the rc-file anyway, there are no longer seperate defines for each.
-XMAMEROOT = /usr/games/lib/x$(TARGET)
+XMAMEROOT = ${PREFIX}/share/xmame
 
 
 ##############################################################################
@@ -152,7 +152,7 @@
 ##############################################################################
 
 ### i386 + gnu-asm
-MY_CPU = i386
+MY_CPU = ${MAME_CPU}
 ### i386 no asm
 # MY_CPU = i386_noasm
 ### ia64
@@ -173,11 +173,11 @@
 ##############################################################################
 
 ### Linux 
-ARCH  = linux
+# ARCH  = linux
 ### FreeBSD
 # ARCH  = freebsd
 ### NetBSD
-# ARCH  = netbsd
+ARCH  = netbsd
 ### Solaris / SunOS
 # ARCH  = solaris
 ### OpenStep
@@ -204,11 +204,13 @@
 # X Input Extensions based joystick, this is known to not work right now ;|
 # JOY_X11 = 1
 # on iX86 based OS's, if supported, you can use standard joystick driver
-# JOY_I386 = 1
+ifeq (${NETBSD_JOYSTICK},yes)
+JOY_I386 = 1
+endif
 # Linux FM-TOWNS game PAD joystick emulation support, thanks to Osamu Kurati
 # JOY_PAD = 1
 # NetBSD USB joystick support.
-# JOY_USB = 1
+JOY_USB = 1
 
 
 ##############################################################################
@@ -252,7 +254,10 @@
 # MIT-Shared Memory X Extensions, comment the
 X11_MITSHM = 1
 # XFree86 DGA
-# X11_DGA = 1
+ifeq (${NETBSD_DGA},yes)  
+X11_DGA = 1
+endif
+
 # The XIL library (Solaris 2.5.1 and higher), uncomment
 # X11_XIL = 1
 
@@ -261,8 +266,8 @@
 # X11INC		= -I/usr/include/X11
 # X11LIB		= -L/usr/lib/X11
 # standard location for XFree86
-X11INC		= -I/usr/X11R6/include
-X11LIB		= -L/usr/X11R6/lib
+X11INC			= -I${PREFIX}/include
+X11LIB			= -L${PREFIX}/lib -Wl,-R${PREFIX}/lib
 # for Sun systems
 # X11INC		= -I/usr/openwin/include
 # X11LIB		= -L/usr/openwin/lib
