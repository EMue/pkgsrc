$NetBSD: patch-ad,v 1.1 1999/10/25 16:05:38 drochner Exp $
--- iodev/harddrv.cc.orig	Sun Oct 24 00:17:53 1999
+++ iodev/harddrv.cc	Sun Oct 24 00:18:09 1999
@@ -492,7 +492,10 @@
         value8 = BX_SELECTED_CONTROLLER.sector_count;
         goto return_value8;
         }
-      bx_panic("disk: IO read(0x1f2): current command not read/write\n");
+      bx_printf("disk: IO read(0x1f2): current command not read/write (%x)\n",
+	BX_SELECTED_CONTROLLER.current_command);
+      value8 = 0xff;
+      goto return_value8;
       break;
 
     case 0x1f3: // sector number
