#!/bin/sh
#
# $NetBSD: install,v 1.1 1998/09/05 03:21:12 garbled Exp $
#
if [ "$2" != "POST-INSTALL" ]; then
  exit 0
fi
SPOOLS="articles overview archive incoming incoming/bad outgoing uniover innfeed"
if [ ! -d XXXINN_SPOOLXXX ]; then
	mkdir -p XXXINN_SPOOLXXX
	chown news:news XXXINN_SPOOLXXX
	chmod 775 XXXINN_SPOOLXXX
fi
for foo in $SPOOLS; do
	if [ ! -d XXXINN_SPOOLXXX/$foo ]; then
		mkdir -p XXXINN_SPOOLXXX/$foo
		chown news:news XXXINN_SPOOLXXX/$foo
		chmod 775 XXXINN_SPOOLXXX/$foo
	fi
done

if [ ! -d XXXPREFIXXXX/etc ]; then
	mkdir -p XXXPREFIXXXX/etc
	chown news:news XXXPREFIXXXX/etc
	chmod 775 XXXPREFIXXXX/etc
fi
if [ ! -d XXXPREFIXXXX/run ]; then
	mkdir -p XXXPREFIXXXX/run
	chown news:news XXXPREFIXXXX/run
	chmod 775 XXXPREFIXXXX/run
fi
if [ ! -d XXXPREFIXXXX/db ]; then
	mkdir -p XXXPREFIXXXX/db
	chown news:news XXXPREFIXXXX/db
	chmod 775 XXXPREFIXXXX/db
fi


ETC="actsync.cfg actsync.ign control.ctl cycbuff.conf distrib.pats expire.ctl incoming.conf inn.conf innfeed.conf innreport.conf innwatch.ctl moderators motd.news newsfeeds nnrp.access nntpsend.ctl overview.ctl overview.fmt passwd.nntp storage.ctl"

for foo in $ETC; do 
	if [ ! -e XXXPREFIXXXX/etc/$foo ]; then
		cp XXXPREFIXXXX/share/examples/inn/$foo XXXPREFIXXXX/etc
	fi
done
