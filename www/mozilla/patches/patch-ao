$NetBSD: patch-ao,v 1.2 2001/02/17 11:03:28 taya Exp $

diff -ru ../Orig/mozilla/security/psm/server/Makefile ./security/psm/server/Makefile
--- ../Orig/mozilla/security/psm/server/Makefile	Thu Feb  8 06:05:21 2001
+++ ./security/psm/server/Makefile	Sat Feb 17 02:11:30 2001
@@ -44,9 +44,13 @@
 CPLUSPLUSRUNTIME = -L /usr/lib -lstdc++ -lm
 else
 # libC, presumably, is what we must link with elsewhere
+ifeq ($(OS_ARCH), NetBSD)
+CPLUSPLUSRUNTIME = -lm
+else
 CPLUSPLUSRUNTIME = -lC -lm
 endif
 endif
+endif
 
 INCLUDES += -I$(CORE_DEPTH)/../dist/public/nlslayer -I$(CORE_DEPTH)/../dist/include
 
@@ -152,9 +156,14 @@
 NSPR_LINK_LIBS = -L$(DIST)/lib -Bdynamic -lnspr4 -lplc4 -lplds4
 XPCOM_LINK_LIBS = -lxpcom
 XPCOM_LIBS += $(DIST)/lib/libz.$(DLL_SUFFIX)
-else
+else # SunOS
+ifeq ($(OS_ARCH), NetBSD)
+NSPR_LINK_LIBS = -L$(DIST)/lib -lnspr4 -lplc4 -lplds4
+XPCOM_LINK_LIBS = -lxpcom
+else # NetBSD
 NSPR_LINK_LIBS = $(NSPR_LIBS)
 XPCOM_LINK_LIBS	= $(XPCOM_LIBS)
+endif
 endif
 
 ifndef MOZ_DIST
