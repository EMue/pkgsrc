$NetBSD: patch-ag,v 1.7 2000/10/29 22:59:32 mycroft Exp $

--- config/rules.mk.orig	Thu Sep 28 13:02:15 2000
+++ config/rules.mk	Sun Oct 29 21:45:18 2000
@@ -354,6 +354,18 @@
 endif
 
 #
+# On NetBSD a.out systems, use -Bsymbolic.  This fixes what would otherwise be
+# fatal symbol name clashes between components.
+#
+ifeq ($(OS_ARCH),NetBSD)
+ifeq ($(DLL_SUFFIX),.so.1.0)
+ifdef IS_COMPONENT
+EXTRA_DSO_LDOPTS += -Wl,-Bsymbolic
+endif
+endif
+endif
+
+#
 # HP-UXBeOS specific section: for COMPONENTS only, add -Bsymbolic flag
 # which uses internal symbols first
 #
