# $NetBSD: Makefile.in,v 1.4 1999/09/23 17:42:59 tsarna Exp $

all: 	all-pcgi all-lib all-dt all-zodb all-search all-expat link-cpickle
configure: config-pcgi config-lib config-dt config-zodb config-search \
	config-expat
	
config-pcgi:
	(cd pcgi; ./configure)

all-pcgi:
	(cd pcgi; make)

config-lib:
	(cd lib/python; \
	cp @PREFIX@/lib/python1.5/config/Makefile.pre.in . ; \
	make -f Makefile.pre.in boot PYTHON=@PREFIX@/bin/python)

all-lib:
	(cd lib/python; make)

config-dt:
	(cd lib/python/DocumentTemplate; \
	cp @PREFIX@/lib/python1.5/config/Makefile.pre.in . ; \
	make -f Makefile.pre.in boot PYTHON=python)

all-dt:
	(cd lib/python/DocumentTemplate; make)

config-zodb:
	(cd lib/python/ZODB; \
	cp @PREFIX@/lib/python1.5/config/Makefile.pre.in . ; \
	make -f Makefile.pre.in boot PYTHON=python)

all-zodb:
	(cd lib/python/ZODB; make)


config-search:
	(cd lib/python/SearchIndex; \
	cp @PREFIX@/lib/python1.5/config/Makefile.pre.in . ; \
	make -f Makefile.pre.in boot PYTHON=python)

all-search:
	(cd lib/python/SearchIndex; make)

config-expat:
	(cd lib/python/Shared/DC/xml/pyexpat; \
	cp @PREFIX@/lib/python1.5/config/Makefile.pre.in . ; \
	make -f Makefile.pre.in boot PYTHON=python)

all-expat:
	(cd lib/python/Shared/DC/xml/pyexpat; make)

link-cpickle:
	(cd lib/python/ZODB; \
	ln -s ../cPickle.so cPickle.so; \
	ln -s ../cStringIO.so cStringIO.so )

