$NetBSD: patch-ah,v 1.4 2000/02/20 18:30:39 dmcmahill Exp $

--- mpegsound/mpeglayer3.cc.orig	Fri Mar  6 12:43:55 1998
+++ mpegsound/mpeglayer3.cc	Sun Feb 20 10:48:43 2000
@@ -47,15 +47,14 @@
   register unsigned short a;
 
-#ifndef WORDS_BIGENDIAN
   {
     //    int offset=(bitindex>>3)&(WINDOWSIZE-1);
     int offset=bitindex>>3;
 
+#ifndef WORDS_BIGENDIAN
     a=(((unsigned char)buffer[offset])<<8) | ((unsigned char)buffer[offset+1]);
-  }
 #else
-  //  a=((unsigned short *)(buffer+((bixindex>>3)&(WINDOWSIZE-1))));
-  a=((unsigned short *)(buffer+((bixindex>>3))));
+    a=(unsigned short)(buffer[offset]);
 #endif
+  }
 
   a<<=(bitindex&7);
@@ -770,5 +769,5 @@
   {
     const HUFFMANCODETABLE *h;
-    register end;
+    register int end;
       
     if     (i<region1Start)
