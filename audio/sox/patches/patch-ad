Only in .: .build_done
diff -u ../work/Makefile.unx ./Makefile.unx
--- ../work/Makefile.unx	Wed Oct 29 02:43:00 1997
+++ ./Makefile.unx	Wed Oct 29 02:26:11 1997
@@ -154,7 +154,7 @@
 
 
 
-# FreeBSD 1.x / 2.x / 3.x
+# NetBSD 1.3
 CFLAGS		= -O -DLINUXSOUND -D_HAVE_PARAM_H
 CC		= cc
 AR		= ar r
@@ -163,7 +163,7 @@
 all: sox
 
 sox: sox.o $(SOUNDLIB)
-	$(CC) $(CFLAGS) -o sox sox.o $(SOUNDLIB) -lm
+	$(CC) $(CFLAGS) -o sox sox.o $(SOUNDLIB) -lm -lossaudio
 
 $(SOUNDLIB): $(LIBOBJS)
 	$(RM) $(SOUNDLIB)
Only in .: libst.a
diff -u ../work/sbdsp.c ./sbdsp.c
--- ../work/sbdsp.c	Wed Oct 29 02:42:59 1997
+++ ./sbdsp.c	Wed Oct 29 02:42:09 1997
@@ -21,7 +21,12 @@
 #include <i386/isa/sblast.h>
 #else
 #ifdef LINUXSOUND
+#ifdef __NetBSD__
+#include <sys/ioctl.h>
+#include <soundcard.h>
+#else
 #include <machine/soundcard.h>
+#endif
 #else
 #include <sys/sb.h>
 #endif
@@ -77,6 +82,12 @@
 	ioctl(fileno(ft->fp), DSP_IOCTL_VOICE, &off);
 	ioctl(fileno(ft->fp), DSP_IOCTL_SPEED, &ft->info.rate);
 #else
+#ifdef __NetBSD__
+	{
+		int fmt = AFMT_U8;
+		ioctl(fileno(ft->fp), SNDCTL_DSP_SETFMT, &fmt);
+	}
+#endif
 #if defined(LINUXSOUND)
   #if SOUND_VERSION >= 200
 	ioctl(fileno(ft->fp), SOUND_PCM_WRITE_RATE, &ft->info.rate);
@@ -150,6 +161,12 @@
 	ioctl(fileno(ft->fp), DSP_IOCTL_VOICE, &on);
 	ioctl(fileno(ft->fp), DSP_IOCTL_SPEED, &ft->info.rate);
 #else
+#ifdef __NetBSD__
+	{
+		int fmt = AFMT_U8;
+		ioctl(fileno(ft->fp), SNDCTL_DSP_SETFMT, &fmt);
+	}
+#endif
 #if defined(LINUXSOUND)
 	ioctl(fileno(ft->fp), SNDCTL_DSP_SYNC, 0);
   #if SOUND_VERSION >= 200
Only in .: sox
Only in .: ut
