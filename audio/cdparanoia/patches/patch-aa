$NetBSD: patch-aa,v 1.2 2000/10/06 06:40:35 jlam Exp $

--- configure.in.orig	Sun Aug 15 18:29:43 1999
+++ configure.in
@@ -20,6 +20,12 @@
 	i?86-*-linux*)
 		DEBUG="-g -Wall -fsigned-char"
 		OPT="-O20 -ffast-math -fsigned-char -finline-functions";;
+	i?86-*-netbsd*)
+		DEBUG="-g -Wall -fsigned-char"
+		OPT="-O2 -ffast-math -fsigned-char -finline-functions";;
+	*-netbsd*)
+		DEBUG="-g -Wall"
+		OPT="-O";;
 	*)
 		DEBUG="-g -Wall -fsigned-char"
 		OPT="-O20 -fsigned-char";;
@@ -28,7 +34,10 @@
 
 AC_HEADER_STDC
 
-CFLAGS=""
+dnl Uncomment the following if you don't want to honor CFLAGS passed in from
+dnl the environment.
+dnl
+dnl CFLAGS=""
 
 TYPESIZES="" 
 
@@ -63,11 +72,14 @@
 AC_CHECK_HEADERS(linux/sbpcd.h, SBPCD_H="-DSBPCD_H='1' ")
 AC_CHECK_HEADERS(linux/ucdrom.h, UCDROM_H="-DUCDROM_H='1' ")
 
+AC_CHECK_FUNCS(getopt_long, GETOPT_LONG="-DGETOPT_LONG='1' ")
+
 AC_PROG_MAKE_SET
 AC_C_CONST
 
 AC_SUBST(SBPCD_H)
 AC_SUBST(UCDROM_H)
+AC_SUBST(GETOPT_LONG)
 AC_SUBST(TYPESIZES)
 AC_SUBST(OPT)
 AC_SUBST(DEBUG)
