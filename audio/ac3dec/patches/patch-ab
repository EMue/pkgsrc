$NetBSD: patch-ab,v 1.3 2001/01/08 00:22:00 mycroft Exp $

--- output_solaris.c.orig	Thu Mar 30 00:51:24 2000
+++ output_solaris.c	Mon Jan  8 00:16:44 2001
@@ -34,12 +34,13 @@
 #include <fcntl.h>
 #include <sys/audioio.h>
 #include <sys/ioctl.h>
-#include <stropts.h>
 #include <signal.h>
 #include <math.h>
 
+#ifndef __NetBSD__
 //FIXME broken solaris headers!
 int usleep(unsigned int useconds);
+#endif
 
 
 //this sux...types should go in config.h methinks
@@ -79,7 +80,11 @@
 	info.play.sample_rate = rate;
 	info.play.precision = bits;
 	info.play.channels = channels;
+#ifndef __NetBSD__
 	info.play.buffer_size = 1024;
+#else
+	info.blocksize = 1024;
+#endif
 	info.play.encoding = AUDIO_ENCODING_LINEAR;
 	//info.play.port = AUDIO_SPEAKER;
 	//info.play.gain = 110;
