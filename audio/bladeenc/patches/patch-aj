$NetBSD: patch-aj,v 1.1 1999/09/13 03:33:35 simonb Exp $

--- l3bitstream.c.orig	Sat Jul 24 07:50:33 1999
+++ l3bitstream.c	Mon Sep 13 12:53:24 1999
@@ -160,8 +160,8 @@
  /*	BF_FlushBitstream( frameData, frameResults ); */
 }
 
-static unsigned slen1_tab[16] = { 0, 0, 0, 0, 3, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4 };
-static unsigned slen2_tab[16] = { 0, 1, 2, 3, 0, 1, 2, 3, 1, 2, 3, 1, 2, 3, 2, 3 };
+static unsigned int slen1_tab[16] = { 0, 0, 0, 0, 3, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4 };
+static unsigned int slen2_tab[16] = { 0, 1, 2, 3, 0, 1, 2, 3, 1, 2, 3, 1, 2, 3, 2, 3 };
 
 static void encodeMainData( int l3_enc[2][2][576],
 														III_side_info_t  *si,
@@ -185,8 +185,8 @@
 	  {
 			BitHolder **pph = &scaleFactorsPH[gr][ch];		
 			gr_info *gi = &(si->gr[gr].ch[ch].tt);
-			unsigned slen1 = slen1_tab[ gi->scalefac_compress ];
-			unsigned slen2 = slen2_tab[ gi->scalefac_compress ];
+			unsigned int slen1 = slen1_tab[ gi->scalefac_compress ];
+			unsigned int slen2 = slen2_tab[ gi->scalefac_compress ];
 			int *ix = &l3_enc[gr][ch][0];
 
 			if ( (gi->window_switching_flag == 1) && (gi->block_type == 2) )
@@ -349,7 +349,7 @@
      */
   int bytesToSend = lengthInBits / 8;
   int remainingBits = lengthInBits % 8;
-  unsigned wrd;
+  unsigned int wrd;
   int i;
 
   userFrameDataPH->nrEntries = 0;
@@ -436,7 +436,7 @@
 
 	    for ( sfb = 0; sfb < 13; sfb++ )
 	    {
-				unsigned tableindex = 100;
+				unsigned int tableindex = 100;
 				start = scalefac[ sfb ];
 				end   = scalefac[ sfb+1 ];
 
@@ -464,7 +464,7 @@
 		else if ( gi->mixed_block_flag && gi->block_type == 2 )
 	  {  /* Mixed blocks long, short */
 			int sfb, window, line, start, end;
-			unsigned tableindex;
+			unsigned int tableindex;
 			I192_3 *ix_s;
 			int *scalefac = &sfBandIndex[fr_ps->header->sampling_frequency].s[0];
 		
@@ -507,7 +507,7 @@
     else
     { /* Long blocks */
 			int *scalefac = &sfBandIndex[fr_ps->header->sampling_frequency].l[0];
-			unsigned scalefac_index = 100;
+			unsigned int scalefac_index = 100;
 		
 			if ( gi->mixed_block_flag )
 			{
@@ -523,7 +523,7 @@
 			}
 			for ( i = 0; i < bigvalues; i += 2 )
 			{
-		    unsigned tableindex = 100;
+		    unsigned int tableindex = 100;
 		    /* get table pointer */
 		    if ( i < region1Start )
 		    {
@@ -647,7 +647,7 @@
   */
 int HuffmanCode( int table_select, int x, int y, unsigned int *code, unsigned int *ext, int *cbits, int *xbits )
 {
-  unsigned signx, signy, linbitsx, linbitsy, linbits, xlen, ylen, idx;
+  unsigned int signx, signy, linbitsx, linbitsy, linbits, xlen, ylen, idx;
   struct huffcodetab *h;
 
   *cbits = 0;
