$NetBSD: patch-ai,v 1.7 2000/07/14 04:44:53 jlam Exp $

--- include/port/netbsd.h.orig	Wed Apr 12 13:16:48 2000
+++ include/port/netbsd.h	Wed Jul 12 02:31:08 2000
@@ -3,43 +3,48 @@
 #if defined(__i386__)
 #define NEED_I386_TAS_ASM
 #define HAS_TEST_AND_SET
+typedef unsigned char slock_t;
 #endif
 
 #if defined(__sparc__)
 #define NEED_SPARC_TAS_ASM
 #define HAS_TEST_AND_SET
+typedef unsigned char slock_t;
 #endif
 
 #if defined(__vax__)
 #define NEED_VAX_TAS_ASM
 #define HAS_TEST_AND_SET
+typedef unsigned char slock_t;
 #endif
 
 #if defined(__ns32k__)
 #define NEED_NS32K_TAS_ASM
 #define HAS_TEST_AND_SET
+typedef unsigned char slock_t;
 #endif
 
 #if defined(__m68k__)
 #define HAS_TEST_AND_SET
+typedef unsigned char slock_t;
 #endif
 
 #if defined(__arm__)
 #define HAS_TEST_AND_SET
+typedef unsigned char slock_t;
 #endif
 
 #if defined(__mips__)
 /* #	undef HAS_TEST_AND_SET */
+typedef unsigned char slock_t;
 #endif
 
-#if defined(__powerpc__)
+#if defined(__alpha__)
 #define HAS_TEST_AND_SET
+typedef unsigned long slock_t;
 #endif
 
 #if defined(__powerpc__)
+#define HAS_TEST_AND_SET
 typedef unsigned int slock_t;
-
-#else
-typedef unsigned char slock_t;
-
 #endif
