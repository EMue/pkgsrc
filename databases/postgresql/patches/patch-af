--- interfaces/libpgtcl/Makefile.orig	Mon Sep 29 23:02:46 1997
+++ interfaces/libpgtcl/Makefile	Sun Oct  5 02:12:00 1997
@@ -39,6 +39,14 @@
   endif
 endif
 
+ifeq ($(PORTNAME), BSD44_derived)
+  CFLAGS += $(CFLAGS_SL)
+  shlib := libpgtcl.so.1.0
+  install-shlib-dep := install-shlib
+  LDFLAGS_SL = -x -Bshareable -Bforcearchive 
+  LDFLAGS += -L $(SRCDIR)/interfaces/libpq -lpq
+endif
+
 ifeq ($(PORTNAME), i386_solaris)
   CFLAGS+= -fPIC
 endif
@@ -56,10 +64,9 @@
 endif
 	$(RANLIB) libpgtcl.a
 
-libpgtcl.so.1: $(OBJS)
-	$(CC) $(LDFLAGS) -shared $(OBJS) -o libpgtcl.so.1
-	rm -f libpgtcl.so
-	ln -s libpgtcl.so.1 libpgtcl.so
+$(shlib): $(OBJS)
+	$(LD) $(LDFLAGS_SL) -o $@ $(OBJS)
+	ln -sf libpgtcl.so.1.0 libpgtcl.so
 
 .PHONY: beforeinstall-headers install-headers
 .PHONY: install install-libpgtcl
@@ -75,11 +82,11 @@
 install-libpgtcl: libpgtcl.a
 	$(INSTALL) $(INSTL_LIB_OPTS) libpgtcl.a $(DESTDIR)$(LIBDIR)/libpgtcl.a
 
-install-shlib: libpgtcl.so.1
-	$(INSTALL) $(INSTL_LIB_OPTS) libpgtcl.so.1 \
-		$(DESTDIR)$(LIBDIR)/libpgtcl.so.1
+install-shlib: libpgtcl.so.1.0
+	$(INSTALL) $(INSTL_LIB_OPTS) libpgtcl.so.1.0 \
+		$(DESTDIR)$(LIBDIR)/libpgtcl.so.1.0
 	rm -f $(DESTDIR)$(LIBDIR)/libpgtcl.so
-	ln -s libpgtcl.so.1 $(DESTDIR)$(LIBDIR)/libpgtcl.so
+	ln -s libpgtcl.so.1.0 $(DESTDIR)$(LIBDIR)/libpgtcl.so
 
 .PHONY: clean
 clean: 
--- bin/Makefile	1998/02/18 15:50:27	1.1
+++ bin/Makefile	1998/02/18 15:50:40
@@ -36,4 +36,5 @@
 #
 ifeq ($(USE_TCL), true)
 	$(MAKE) -C pgtclsh $@
+	$(MAKE) -C pgaccess $@
 endif
--- /dev/null	Wed Feb 18 15:53:20 1998
+++ bin/pgaccess/Makefile	Wed Feb 18 16:12:13 1998
@@ -0,0 +1,7 @@
+BIN=${PREFIX}/pgsql/bin/pgaccess
+
+all: ;
+
+install:
+	sed -e 's|^#!/usr/bin/wish|#! '${PREFIX}'/pgsql/bin/pgtksh -f|' < pgaccess.tcl > ${BIN}
+	chmod 755 ${BIN}
