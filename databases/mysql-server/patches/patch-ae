$NetBSD: patch-ae,v 1.4 2001/05/02 08:22:31 jlam Exp $

--- configure.in.orig	Thu Mar 15 19:51:51 2001
+++ configure.in
@@ -581,7 +581,10 @@
         AC_MSG_RESULT(yes)
         AC_DEFINE(LIBWRAP)
         AC_DEFINE(HAVE_LIBWRAP)
-        WRAPLIBS="-L$with_libwrap/lib -lwrap",
+	if test "$with_libwrap" != "yes"; then
+	    WRAPLIBS="-L${with_libwrap}/lib"
+	fi
+	WRAPLIBS="${WRAPLIBS} -lwrap",
         AC_MSG_RESULT(no)
         CPPFLAGS=${_cppflags} LDFLAGS=${_ldflags}),
       CPPFLAGS=${_cppflags} LDFLAGS=${_ldflags})
@@ -1589,7 +1592,11 @@
   # This requires readline to be in a standard place. Mosty for linux
   # there readline may be a shared library.
   readline_dir=""
-  readline_link="-lreadline"
+  if test -z "$readline_lib"
+  then
+    readline_lib="readline"
+  fi
+  readline_link="-l$readline_lib"
 fi
 AC_SUBST(readline_dir)
 AC_SUBST(readline_link)
@@ -1951,7 +1958,7 @@
     AC_DEFINE(HAVE_mit_thread)
     MT_INCLUDES="-I\$(top_srcdir)/mit-pthreads/include"
     AC_SUBST(MT_INCLUDES)
-    MT_LD_ADD="-L \$(top_srcdir)/mit-pthreads/obj/ -lpthread"
+    MT_LD_ADD="\$(top_srcdir)/mit-pthreads/obj/libpthread.a"
     AC_SUBST(MT_LD_ADD)
     LIBS="$MT_LD_ADD $LIBS"
     echo ""
