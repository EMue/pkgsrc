$NetBSD: patch-au,v 1.2 1999/12/13 20:36:26 bad Exp $

--- mit-pthreads/machdep/syscall-i386-netbsd-1.3.S.orig	Mon Jun  7 12:34:23 1999
+++ mit-pthreads/machdep/syscall-i386-netbsd-1.3.S	Sun Aug 22 02:17:44 1999
@@ -65,9 +65,9 @@
 /* ==========================================================================
  * machdep_sys_fork()
  */
-	.globl _machdep_sys_fork;		
+	.globl _C_LABEL(machdep_sys_fork);		
 									
-_machdep_sys_fork:;				
+_C_LABEL(machdep_sys_fork):;				
 									
 	movl $(SYS_fork), %eax;		
 	.byte 0x9a; .long 0; .word 7;	
@@ -92,13 +92,13 @@
 /* ==========================================================================
  * machdep_sys_sigsuspend()
  */
-	.globl _machdep_sys_sigsuspend;		
+	.globl _C_LABEL(machdep_sys_sigsuspend);		
 
-_machdep_sys_sigsuspend:;
+_C_LABEL(machdep_sys_sigsuspend):;
 
 	movl    4(%esp),%eax            # fetch mask arg
-    movl    (%eax),%eax             # indirect to mask arg
-    movl    %eax,4(%esp)
+	movl    (%eax),%eax             # indirect to mask arg
+	movl    %eax,4(%esp)
 	movl $(SYS_sigsuspend), %eax;		
 	int $0x80;						
 	jb 3f;
@@ -114,9 +114,9 @@
 /* ==========================================================================
  * machdep_sys_lseek()
  */
-	.globl _machdep_sys_lseek;		
+	.globl _C_LABEL(machdep_sys_lseek);		
 
-_machdep_sys_lseek:;				
+_C_LABEL(machdep_sys_lseek):;				
 									
 	pushl  %ebp;
 	movl   %esp,%ebp;
@@ -134,9 +134,9 @@
 /* ==========================================================================
  * machdep_sys_ftruncate() ; Added by Monty
  */
-        .globl _machdep_sys_ftruncate;
+        .globl _C_LABEL(machdep_sys_ftruncate);
  
-_machdep_sys_ftruncate:;
+_C_LABEL(machdep_sys_ftruncate):;
  
         pushl  %ebp; 
         movl   %esp,%ebp;
@@ -154,13 +154,13 @@
 /* ==========================================================================
  * machdep_sys_sigprocmask()
  */
-	.globl _machdep_sys_sigprocmask;		
+	.globl _C_LABEL(machdep_sys_sigprocmask);		
 
-_machdep_sys_sigprocmask:;				
+_C_LABEL(machdep_sys_sigprocmask):;				
 									
 	movl 8(%esp),%ecx
 	movl (%ecx),%ecx
-    movl %ecx,8(%esp)
+	movl %ecx,8(%esp)
 	movl $(SYS_sigprocmask), %eax;		
 	int  $0x80;						
 	jb   3b;
@@ -170,9 +170,9 @@
 /* ==========================================================================
  * machdep_sys_pipe()
  */
-	.globl _machdep_sys_pipe;		
+	.globl _C_LABEL(machdep_sys_pipe);		
 
-_machdep_sys_pipe:;	
+_C_LABEL(machdep_sys_pipe):;	
 									
 	movl $(SYS_pipe), %eax;		
 	int  $0x80;						
@@ -186,9 +186,9 @@
 /* ==========================================================================
  * machdep_sys_fstat()
  */
-	.globl _machdep_sys_fstat;
+	.globl _C_LABEL(machdep_sys_fstat);
 
-_machdep_sys_fstat:;
+_C_LABEL(machdep_sys_fstat):;
 	movl $(SYS___fstat13), %eax;
 	int $0x80;
 	jb 4f;
