$NetBSD: patch-ac,v 1.4 2001/07/08 15:23:17 bad Exp $

--- mit-pthreads/stdio/strerror.c.orig	Tue Jun 12 21:07:25 2001
+++ mit-pthreads/stdio/strerror.c	Sun Jul  8 16:51:52 2001
@@ -36,13 +36,18 @@
 #endif /* LIBC_SCCS and not lint */
 
 #include <string.h>
+#if defined(__NetBSD__)
+#include <errno.h>
+#endif
 
 char *
 strerror(num)
 	int num;
 {
+#if !defined(__NetBSD__)
 	extern int sys_nerr;
 	extern char *sys_errlist[];
+#endif
 #define	UPREFIX	"Unknown error: "
 	static char ebuf[40] = UPREFIX;		/* 64-bit number + slop */
 	register unsigned int errnum;
@@ -51,7 +56,7 @@
 
 	errnum = num;				/* convert to unsigned */
 	if (errnum < sys_nerr)
-		return(sys_errlist[errnum]);
+		return((char *)sys_errlist[errnum]);
 
 	/* Do this by hand, so we don't include stdio(3). */
 	t = tmp;
