$NetBSD: patch-ac,v 1.3 2000/08/23 14:46:52 wiz Exp $

--- mit-pthreads/stdio/strerror.c.orig	Mon Aug  8 05:48:21 1994
+++ mit-pthreads/stdio/strerror.c
@@ -36,13 +36,12 @@
 #endif /* LIBC_SCCS and not lint */
 
 #include <string.h>
+#include <errno.h>
 
 char *
 strerror(num)
 	int num;
 {
-	extern int sys_nerr;
-	extern char *sys_errlist[];
 #define	UPREFIX	"Unknown error: "
 	static char ebuf[40] = UPREFIX;		/* 64-bit number + slop */
 	register unsigned int errnum;
@@ -51,7 +50,7 @@
 
 	errnum = num;				/* convert to unsigned */
 	if (errnum < sys_nerr)
-		return(sys_errlist[errnum]);
+		return((char *)sys_errlist[errnum]);
 
 	/* Do this by hand, so we don't include stdio(3). */
 	t = tmp;
