$NetBSD: patch-as,v 1.2 1999/12/13 20:36:26 bad Exp $

--- mit-pthreads/machdep/syscall-template-sparc-netbsd-1.3.S.orig	Mon Jun  7 12:34:23 1999
+++ mit-pthreads/machdep/syscall-template-sparc-netbsd-1.3.S	Sun Aug 22 03:21:52 1999
@@ -4,6 +4,7 @@
  *
  */
 
+#include <machine/asm.h>
 #include <sys/syscall.h>
 
 #ifdef SYS___sigsuspend14
@@ -14,15 +15,15 @@
 #endif
 
 #define	SYSCALL(x)						\
-	.globl _machdep_sys_##x;			\
-										\
-_machdep_sys_##x:;						\
-										\
-	mov SYS_##x, %g1;   				\
-	ta 0;								\
-	bcs,a 2b;							\
+	.globl _C_LABEL(machdep_sys_##x);			\
+								\
+_C_LABEL(machdep_sys_##x):;					\
+								\
+	mov SYS_##x, %g1;   					\
+	ta 0;							\
+	bcs,a 2b;						\
 	sub %r0,%o0,%o0;					\
-	retl;								\
+	retl;							\
 	nop
 
 /*
