$NetBSD: patch-ac,v 1.6 1998/11/05 05:32:19 mycroft Exp $

--- src/iohandler.c.orig	Sun Sep  6 11:41:03 1998
+++ src/iohandler.c	Wed Nov  4 23:42:24 1998
@@ -43,6 +43,9 @@
 #include <time.h>
 #include <winsock.h>
 #endif
+#ifdef HAVE_SYS_INTTYPES_H
+#include <inttypes.h>
+#endif
 #include <tk.h>
 #ifdef WIN32
 #define WM_WSOCK_READY 	WM_USER+123
@@ -136,7 +139,11 @@
         }
 	sockproc[fd] = callback;
 #else
+#ifdef HAVE_SYS_INTTYPES_H
+        Tcl_CreateFileHandler(fd, mask, callback, (ClientData)(intptr_t)fd);
+#else
         Tcl_CreateFileHandler(fd, mask, callback, (ClientData)fd);
+#endif
 #endif
 }
 
