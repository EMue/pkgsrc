$NetBSD: patch-ad,v 1.3 1998/09/13 18:02:10 garbled Exp $
--- src/sd_listen.c.orig	Sun Sep 13 10:34:47 1998
+++ src/sd_listen.c	Sun Sep 13 10:37:01 1998
@@ -316,10 +316,10 @@
 
 	if (strncmp(k1, "k=", 2)==0)
 	  {
-	    if ((u_int)k2>=(u_int)k1+2)
+	    if ((uintptr_t)k2>=(uintptr_t)k1+2)
 	      {
-		memcpy(key, k1+2, (u_int)k2-((u_int)k1+1));
-		key[(u_int)k2-((u_int)k1+1)]='\0';
+		memcpy(key, k1+2, (uintptr_t)k2-((uintptr_t)k1+1));
+		key[(uintptr_t)k2-((uintptr_t)k1+1)]='\0';
 	      }
 	    else
 	      {
@@ -648,7 +648,7 @@
     struct timeval tv;
     unsigned long src, hfrom;
     char *data;
-    int ix = rfd2sock[PTOI(fd)];
+    intptr_t ix = rfd2sock[PTOI(fd)];
 
     fromlen=sizeof(struct sockaddr);
     
