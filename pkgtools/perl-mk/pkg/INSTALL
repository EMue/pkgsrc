#!/bin/sh
#
# $NetBSD: INSTALL,v 1.1 2001/04/22 06:25:19 jlam Exp $

PKGNAME=$1
STAGE=$2

PERL5="@PERL5@"
RM="@RM@"

BSD_PERL_MK=${PKG_PREFIX}/share/mk/bsd.perl.mk

case ${STAGE} in
PRE-INSTALL)
	;;

POST-INSTALL)
	# Generate bsd.perl.mk with hardcoded values for PERL5_* make
	# variables for optimization purposes.
	#
	${RM} -f ${BSD_PERL_MK}
	eval `${PERL5} -V:installsitelib 2>/dev/null`
	echo PERL5_SITELIB=${installsitelib} >> ${BSD_PERL_MK}
	eval `${PERL5} -V:installsitearch 2>/dev/null`
	echo PERL5_SITEARCH=${installsitearch} >> ${BSD_PERL_MK}
	eval `${PERL5} -V:installarchlib 2>/dev/null`
	echo PERL5_ARCHLIB=${installarchlib} >> ${BSD_PERL_MK}
	;;

*)
	echo "Unexpected argument: ${STAGE}"
	exit 1
	;;
esac
exit 0
