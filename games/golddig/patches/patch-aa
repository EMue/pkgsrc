$NetBSD: patch-aa,v 1.5 1998/09/14 06:54:00 garbled Exp $
--- Makefile.orig	Tue Feb  8 21:11:37 1994
+++ Makefile	Sun Sep 13 23:44:23 1998
@@ -10,12 +10,12 @@
 EDITOR = makelev
 # Directory where games binaries are stored
 #BIN = /usr/public/${HOSTTYPE}/games
-BIN = /usr/local/games
+BIN = $(PREFIX)/bin
 # Directory where the library for this game will be stored
-LIB = /usr/local/games/lib/${GAME}
+LIB = $(PREFIX)/share/${GAME}
 # Directory where manual pages are kept
 MANEXT = 6
-MAN = /usr/local/man/man${MANEXT}
+MAN = $(PREFIX)/man/man${MANEXT}
 # Font used to display score
 SCOREFONT = -adobe-times-bold-r-normal--18-180-75-75-p-99-iso8859-1
 # Height of SCOREFONT
@@ -28,25 +28,26 @@
 # Some common choices for CFLAGS.
 #CFLAGS = -O2
 #CFLAGS = -O
-CFLAGS = -O2 -W -Wreturn-type -Wunused -finline-functions -D__USE_BSD_SIGNAL 
+CFLAGS = -O2 -W -Wreturn-type -Wunused -finline-functions -D__USE_BSD_SIGNAL -I$(X11BASE)/include
 #CFLAGS = -g
 #LDFLAGS = -L /usr/X11/lib -lbsd -s
-LDFLAGS = -L /usr/X11/lib -s
+LDFLAGS = -Wl,-R$(X11BASE)/lib -L$(X11BASE)/lib
 
 all: ${GAME} ${EDITOR}
 
 install: all
-	-mkdir ${LIB}
-	cp ${GAME} ${EDITOR} ${BIN}
+	-mkdir -p ${LIB}
+	install -s -o bin -g games -m 2755 ${GAME} ${BIN}
+	install -s -o bin -g games -m 2755 ${EDITOR} ${BIN}
 # The next line sets up the level files so that anyone can edit all of
 # the levels.  Remove this line to have better security.
-	chmod 4755 ${BIN}/${EDITOR}
-	touch ${LIB}/scores
+	cat /dev/null >>/var/games/golddig.scores
+	chown bin:games /var/games/golddig.scores
+	chmod 664 /var/games/golddig.scores
 # Allow anyone to modify the high score file.  An alternative is to
 # change the mode bits of ${GAME} to be 4755.
-	chmod 666 ${LIB}/scores
-	cp goldlev* default ${LIB}
-	cp golddig.p ${MAN}/golddig.${MANEXT}
+	install -o bin -g bin -m 0644 goldlev* default ${LIB}
+	install -o root -g wheel -m 0644 golddig.p ${MAN}/golddig.${MANEXT}
 
 update: all
 	cp ${GAME} ${EDITOR} ${BIN}
