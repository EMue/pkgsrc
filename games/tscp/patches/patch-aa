$NetBSD: patch-aa,v 1.2 2001/02/04 11:32:35 abs Exp $

--- main.c.orig	Thu Nov 30 19:28:18 2000
+++ main.c
@@ -51,7 +51,7 @@
 	init();
 	gen();
 	computer_side = EMPTY;
-	max_time = 1000000;
+	max_time = 10000000;
 	max_depth = 4;
 	for (;;) {
 		if (side == computer_side) {  /* computer's turn */
@@ -73,7 +73,8 @@
 
 		/* get user input */
 		printf("tscp> ");
-		scanf("%s", s);
+		if (scanf("%s", s) == EOF)
+			return 0;
 		if (!strcmp(s, "on")) {
 			computer_side = side;
 			continue;
@@ -279,7 +280,8 @@
 			print_result();
 			continue;
 		}
-		fgets(line, 256, stdin);
+		if (!fgets(line, 256, stdin))
+			return;
 		if (line[0] == '\n')
 			continue;
 		sscanf(line, "%s", command);
